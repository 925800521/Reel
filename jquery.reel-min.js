/*
 Copyright (c) 2009-2013 Petr Vostrel (http://petr.vostrel.cz/)
 Licensed under the MIT License (LICENSE.txt).

 jQuery Reel
 http://reel360.org
 Version: 1.2.2
 Updated: 2013-08-28

 Requires jQuery 1.5 or higher
*/
(function(k){var oa=typeof define=="function"&&define.amd&&(define(["jquery"],k)||true),U=!oa&&typeof module=="object"&&typeof module.exports=="object"&&(module.exports=k);!oa&&!U&&k()})(function(){return jQuery.reel||function(k,oa,U,t){function mc(f){return p.instances.push(f[0])&&f}function nc(f){return(p.instances=p.instances.not(Oa(f.attr(Y))))&&f}function Z(f){return p.instances.first().data(f)}function oc(f){return"data:image/gif;base64,R0lGODlh"+f}function V(f){return"<"+f+"/>"}function y(f){return"."+
(f||"")}function Pa(f){return f.replace(Aa,p.cdn)}function Ba(f){return"url('"+mb(f)+"')"}function Ob(f,j){return typeof j==nb?j[f]:j}function Ca(f,j,o){return ob(f,Da(j,o))}function Qa(f,j){return W(f)*(j?-1:1)}function Ra(f){return pa?f.touch||f.originalEvent.touches[0]:f}function A(f){return f===t?0:typeof f==pb?f:f+"px"}function Oa(f){return"#"+f}function pc(f,j,o){for(;f.length<j;)f=o+f;return f}function mb(f){return encodeURI(decodeURI(f))}function qb(f){return p.re.array.exec(f)?f.split(p.re.array):
f}function Pb(f){return!f.parents(rb).length}function Qb(f){return typeof f==pb?f:k.each(f,function(j,o){f[j]=o?+o:t})}function Rb(f){try{console.warn("Deprecation - Please consult https://github.com/pisi/Reel/wiki/Deprecations")}catch(j){}return f}if(!(!k||+k().jquery.replace(".",O).substr(0,2)<15)){var p=k.reel={version:"1.2.2",def:{frame:1,frames:36,loops:true,clickfree:false,draggable:true,scrollable:true,steppable:true,throwable:true,wheelable:true,cw:false,revolution:t,stitched:0,directional:false,
row:1,rows:0,orbital:0,vertical:false,inversed:false,footage:6,spacing:0,horizontal:true,suffix:"-reel",image:t,images:"",path:"",preload:"fidelity",speed:0,delay:0,timeout:2,duration:t,rebound:0.5,entry:t,opening:0,brake:0.23,velocity:0,tempo:36,laziness:6,cursor:t,hint:"",indicator:0,klass:"",preloader:2,area:t,attr:{},annotations:t,responsive:false,graph:t,monitor:t,step:t,steps:t},scan:function(){return k(y(C)+":not("+y(sb)+" >)").each(function(f,j){f=k(j);j=f.data();j.images=qb(j.images);var o=
{};k(y(Sb)+"[data-for="+f.attr(Y)+"]").each(function(u,r){u=k(r);r=u.data();r.x=Qb(qb(r.x));r.y=Qb(qb(r.y));var g=u.attr(Y);r.node=u.removeData();o[g]=r});j.annotations=o;f.removeData().reel(j)})},fn:{reel:function(){var f=arguments,j=k(this),o=j.data(),u=f[0]||{},r=f[1];if(typeof u=="object"){var g=k.extend({},p.def,u);f=j.filter(tb).unreel().filter(function(){var i=k(this),e=g.attr,a=e.src||i.attr("src"),G=e.width||i.width();i=e.height||i.height();if(a&&G&&i)return true});var $=[];g.step&&(g.frame=
g.step);g.steps&&(g.frames=g.steps);f.each(function(){var i=k(this),e=function(b,c){return i.reel(b,c)&&i.data(b)},a=function(b){return i.reel(b)},G={setup:function(){if(!(i.hasClass(C)&&i.parent().hasClass(sb))){e(Ea,g);var b=i.attr(g.attr).attr("src"),c=e(Y,i.attr(Y)||i.attr(Y,C+"-"+ +new Date).attr(Y)),d=i.attr(qa),h=k.extend({},i.data()),n=e(aa,g.images||[]),m=e(P,g.stitched),l=!n.length||m;l=e(Sa,g.responsive&&(qc?true:!l));var q=e(Tb,{}),v=g.loops,s=g.orbital,B=g.revolution,Q=g.rows,x=e(ra,
Da(g.footage,g.frames));e(Ta,g.spacing);var ha=e(F,i.width()),ub=e(R,i.height()),Ub=e(L,s&&x||Q<=1&&n.length||g.frames),rc=Q>1||s;e(Fa,Ob("x",B)||m/2||ha*2);e(vb,!rc?0:Ob("y",B)||(Q>3?ub:ub/(5-Q)));Q=m?1:sa(Ub/x);e(wb,m-(v?0:ha));e(Ua,0);c=Oa(c+g.suffix);B=i[0].className||O;x=k(V(ta),{id:c.substr(1),"class":B+D+sb+D+Vb+"0"});x=i.wrap(x.addClass(g.klass)).attr({"class":C});$.push(mc(x)[0]);x=x.parent().bind(G.instance);e(xb,n.length?O:g.image||b.replace(p.re.image,"$1"+g.suffix+".$2"));e(Va,k(V(ta)));
e(Wb,[]);e(S,null);e(z,null);e(X,null);e(ua,null);e(yb,Q);e(Wa,1/(Ub-(v&&!m?0:1)));e(Xb,c);e(M,e(Ga,g.speed)<0);e(Ha,false);e(ia,0);e(va,g.vertical);e(ba,0);e(wa,Qa(1,!g.cw&&!m));e(Xa,{});e(Ia,false);e(Ya,e(zb,0));e(Za,e($a,0));e(Ja,false);e(Ab,false);e(ca,false);e(Yb,g.brake);e(Bb,!!s);e(da,g.tempo/(p.lazy?g.laziness:1));e(xa,-1);e(ab,-1);e(bb,g.annotations||x.unbind(y(bb))&&{});e(Cb,1);e(Zb,{src:b,classes:B,style:d||O,data:h});g.steppable||x.unbind("up.steppable");g.indicator||x.unbind(".indicator");
E(O,{overflow:Db,position:"relative"});l||E(O,{width:ha,height:ub});l&&k.each(sc,function(Mc,$b){q[$b]=a($b)});E(ja+D+y(C),{display:ac});ea.bind(G.pool);i.trigger("setup")}},instance:{teardown:function(){var b=i.data(Zb);i.parent().unbind(G.instance);a(qa).remove();a(Va).empty();clearTimeout(Eb);a(cb).unbind(N);k(oa).unbind(bc,cc);nc(i.unbind(N).removeData().siblings().unbind(N).remove().end().attr({"class":b.classes,src:b.src,style:b.style}).data(b.data).unwrap());db();ea.unbind(G.pool);fa.unbind(ga)},
setup:function(){function b(q){return i.trigger("down",[Ra(q).clientX,Ra(q).clientY,q])&&q.give}function c(q,v){return!v||i.trigger("wheel",[v,q])&&q.give}a(F);a(R);a(L);i.attr(Y);var d=g.rows;a(P);var h=i.parent().append(ya()),n=e(cb,k(g.area||h));d=g.rows||1;E(D+y(C),{MozUserSelect:eb,WebkitUserSelect:eb,MozTransform:"translateZ(0)"});if(pa)n.bind(tc,b);else{var m=g.cursor,l=m==dc?uc:m||vc;m=m==dc?wc+D+"!important":t;E(O,{cursor:Pa(l)});E(y(Fb),{cursor:"wait"});E(y(fb)+ja+y(fb)+" *",{cursor:Pa(m||
l)},true);n.bind(g.wheelable?xc:null,c).bind(g.clickfree?yc:zc,b).bind(Ac,function(){return false})}if(a(Sa)){E(D+y(C),{width:"100%",height:Gb});k(oa).bind(bc,cc)}g.hint&&n.attr("title",g.hint);g.indicator&&h.append(Ka("x"));d>1&&g.indicator&&h.append(Ka("y"));g.monitor&&h.append(ec=k(V(ta),{"class":fc}))&&E(D+y(fc),{position:gb,left:0,top:0})},preload:function(){function b(v,s){setTimeout(function(){!Pb(c)&&s.attr({src:mb(v)})},(l-m.length)*2)}var c=i.parent(),d=a(aa),h=!d.length;a(L);var n=p.preload[g.preload]||
p.preload[p.def.preload],m=h?[a(xb)]:n(d.slice(0),g,a),l=m.length;e(ba,h?0.5:0);d=a(Va).empty();h=[];c.addClass(Fb);e(qa,a(qa)||k("<"+qa+' type="text/css">'+E.rules.join("\n")+"</"+qa+">").prependTo(Hb));e(Ha,true);i.trigger("stop");g.responsive&&Ib();for(i.trigger("resize",true);m.length;){n=p.substitute(g.path+m.shift(),a);var q=k(V(tb)).appendTo(d);q.bind("load error abort",function(v){v.type!="load"&&i.trigger(v.type);return!Pb(c)&&i.trigger("preloaded")&&false});b(n,q);h.push(n)}e(Wb,h)},preloaded:function(){var b=
a(aa).length||1,c=e(ba,Da(a(ba)+1,b));if(c===b){i.parent().removeClass(Fb);i.trigger("loaded")}c===1&&i.trigger("frameChange",[t,a(S)])},loaded:function(){a(aa).length>1||i.css({backgroundImage:Ba(g.path+a(xb))}).attr({src:Pa(gc)});a(P)&&i.attr({src:Pa(gc)});a(Ab)||e(ia,g.velocity||0);e(Ha,false);ka=true},opening:function(){if(!g.opening)return i.trigger("openingDone");e(ca,true);e(Jb,!a(Ga));var b=g.entry||g.speed,c=a(z),d=g.opening;e(z,c-b*d);e(xa,sa(d*Z(da)))},openingDone:function(){e(La,false);
e(ca,false);var b=hb+y(ca);ea.unbind(b,G.pool[b]);if(g.delay>0)hc=setTimeout(function(){i.trigger("play")},g.delay*1E3);else i.trigger("play")},play:function(b,c){c=c?e(Ga,c):a(Ga)*Qa(1,a(M));(b=g.duration)&&e(ab,sa(b*Z(da)));e(M,c<0);c=e(La,!!c);e(Jb,!c);la()},pause:function(){H()},stop:function(){var b=e(Jb,true);e(La,!b)},down:function(b,c,d,h){function n(l){return i.trigger("pan",[Ra(l).clientX,Ra(l).clientY,l])&&l.give}function m(l){return i.trigger("up",[l])&&l.give}if(!(h&&h.button!=Bc&&!g.clickfree))if(g.draggable){e(Ia,
a(S));b=g.clickfree;e(ia,0);ib=jb(a(Fa),c,d);pa||h&&h.preventDefault();H();db();w=0;k(rb,fa).addClass(fb);pa?fa.bind(Cc,n).bind(Dc+D+Ec,m):(b?a(cb):fa).bind(Fc,n).bind(b?Gc:Hc,m)}},up:function(){e(Ia,false);e(Ja,false);var b=g.throwable,c=W(Ma[0]+Ma[1])/60;ma=e(ia,!b?0:b===true?c:Da(b,c))?1:0;H();db();k(rb,fa).removeClass(fb);(g.clickfree?a(cb):fa).unbind(ga)},pan:function(b,c,d,h){if(g.draggable&&Kb){Kb=false;H();b=g.rows;var n=g.orbital,m=pa&&!a(Ja)&&b<=1&&!n&&g.scrollable,l={x:c-ib.x,y:d-ib.y},
q={x:W(l.x),y:W(l.y)};if(h&&m&&q.x<q.y)return h.give=true;if(q.x>0||q.y>0){h&&(h.give=false);w=ob(q.x,q.y);ib={x:c,y:d};h=a(Fa);m=a(Xa);var v=a(va);q=e(z,ic(v?d-m.y:c-m.x,a(Ya),h,a(Za),a($a),a(wa),v?d-m.y:c-m.x));e(Ja,a(Ja)||a(S)!=a(Ia));(l=jc(v?l.y:l.x||0))&&e(M,l<0);if(n&&a(Bb)){e(va,W(d-m.y)>W(c-m.x));m=jb(h,c,d)}if(b>1){b=a(vb);n=a(zb);l=-n*b;e(ua,p.math.envelope(d-m.y,n,b,l,l+b,-1))}!(q%1)&&!g.loops&&jb(h,c,d)}}},wheel:function(b,c,d){if(c){I=true;b=sa(na.sqrt(W(c))/2);b=Qa(b,c>0);c=0.0833*a(Fa);
jb(c);b&&e(M,b<0);e(ia,0);e(z,ic(b,a(Ya),c,a(Za),a($a),a(wa)));d&&d.preventDefault();d&&(d.give=false);H();i.trigger("up",[d])}},fractionChange:function(b,c,d){if(c!==t)return Rb(e(z,c));b=1+kb(d/a(Wa));c=g.rows>1;d=g.orbital;e(Bb,!!d&&(b<=d||b>=a(ra)-d+2));if(c)b+=(a(X)-1)*a(L);e(S,b)},tierChange:function(b,c,d){if(c===t){b=e(X,J(Na(d,1,g.rows)));c=a(L);d=a(S)%c||c;e(S,d+b*c-c)}},rowChange:function(b,c,d){if(c!==t)return e(X,c);e(ua,1/(g.rows-1)*(d-1))},frameChange:function(b,c,d){if(c!==t)return Rb(e(S,
c));this.className=this.className.replace(p.re.frame_klass,Vb+d);var h=a(L);c=g.rows;b=g.path;var n=d%h||h,m=!!a(ba),l=((d-n)/h+1-1)/(c-1),q=J(Na(l,1,c)),v=a(X);m&&q===v?a(ua):e(ua,l);n=Da((n-1)/(h-1),0.9999);l=v*h-h;h=J(Na(n,l+1,l+h));l=W((a(z)||0)-n)<1/(a(L)-1);m&&h===d&&l?a(z):e(z,n);var s=a(ra);if(g.orbital&&a(va)){d=g.inversed?s+1-d:d;d+=s}l=g.horizontal;var B=a(P);h=a(aa);var Q=!h.length||B;q=a(Ta);var x=a(F),ha=a(R);if(Q){if(B){d=e(Ua,J(Na(n,0,a(wb)))%B);c=c<=1?0:(ha+q)*(c-v);d=[A(-d),A(-c)];
(c=h.length>1&&h[v-1])&&i.css("backgroundImage").search(b+c)<0&&i.css({backgroundImage:Ba(b+c)})}else{b=d%s-1;b=b<0?s-1:b;d=kb((d-0.1)/s);d+=c>1?0:a(M)?0:!g.directional?0:a(yb);d=d*((l?ha:x)+q);b=b*((l?x:ha)+q);d=h.length?[0,0]:l?[A(-b),A(-d)]:[A(-d),A(-b)]}i.css({backgroundPosition:d.join(D)})}else{d=h[d-1];a(Sa)&&Ib();m&&i.attr({src:mb(p.substitute(b+d,a))})}},"imageChange imagesChange":function(){i.trigger("preload")},"fractionChange.indicator":function(b,c,d){if(c===t&&g.indicator){b=g.indicator;
var h=g.orbital;c=h&&a(va)?a(R):a(F);h=h?a(ra):g.images.length||a(L);h=sa(c/h);c-=h;d=J(Na(d,0,c));d=!g.cw||a(P)?d:c-d;Ka.$x.css(a(va)?{left:0,top:A(d),bottom:Gb,width:b,height:h}:{bottom:0,left:A(d),top:Gb,width:h,height:b})}},"tierChange.indicator":function(b,c,d){if(c===t&&g.rows>1&&g.indicator){var h=a(R);b=g.indicator;c=sa(h/g.rows);h-=c;d=J(d*h);Ka.$y.css({left:0,top:d,width:b,height:c})}},"setup.annotations":function(){var b=i.parent();a(F);a(R);k.each(a(bb),function(c,d){var h=typeof d.node==
pb?k(d.node):d.node||{};h=h.jquery?h:k(V(ta),h);h=h.attr({id:c}).addClass(Sb);var n=d.image?k(V(tb),d.image):k(),m=d.link?k(V("a"),d.link).click(function(){i.trigger("up.annotations",{target:m})}):k();E(Oa(c),{display:eb,position:gb},true);d.image||d.link&&h.append(m);d.link||d.image&&h.append(n);d.link&&d.image&&h.append(m.append(n));h.appendTo(b)})},"frameChange.annotations":function(b,c){var d=a(F),h=a(P),n=a(Ua);a(ba)&&c===t&&k.each(a(bb),function(m,l){m=k(Oa(m));var q=l.start||1,v=l.end,s=s||
a(S),B=s-1,Q=l.at?l.at[B]=="+":false;B=l.at?B:B-q+1;s=typeof l.x!=nb?l.x:l.x[B];var x=typeof l.y!=nb?l.y:l.y[B];l=s!==t&&x!==t&&(l.at?Q:B>=0&&(!v||B<=v-q));if(h){q=s>h-d&&n>=0&&n<d;s=!(s<d&&n>h-d)?s:s+h;s=!q?s:s-h;s-=n}if(a(Sa)){q=a(Cb);s=s&&s*q;x=x&&x*q}s={display:l?ac:eb,left:A(s),top:A(x)};m.css(s)})},"up.annotations":function(b,c){if(!(w>10||I)){b=k(c.target);(b.is("a")?b:b.parents("a")).attr("href")&&(w=10)}},"up.steppable":function(){w||I||i.trigger(a(Xa).x-i.offset().left>0.5*a(F)?"stepRight":
"stepLeft")},"stepLeft stepRight":function(){H()},stepLeft:function(){e(M,false);e(z,a(z)-a(Wa)*a(wa))},stepRight:function(){e(M,true);e(z,a(z)+a(Wa)*a(wa))},stepUp:function(){e(X,a(X)-1)},stepDown:function(){e(X,a(X)+1)},resize:function(b,c){if(!(a(Ha)&&!c)){var d=a(P),h=a(Ta);b=a(R);var n=!a(aa).length||d,m=g.rows||1;d=a(aa).length?!d?t:A(d)+D+A(b):d&&A(d)+D+A((b+h)*m-h)||A((a(F)+h)*a(ra)-h)+D+A((b+h)*a(yb)*m*(g.directional?2:1)-h);i.css({height:n?A(b):null,backgroundSize:d});c||i.trigger("imagesChange")}},
"setup.fu":function(){e(S,g.frame+(g.row-1)*a(L));i.trigger("preload")},"wheel.fu":function(){I=false},"clean.fu":function(){i.trigger("teardown")},"loaded.fu":function(){i.trigger("opening")}},pool:{"tick.reel.preload":function(){if(ka||a(Ha)){var b=a(F),c=Ic(ya.$.css(F)),d=a(aa).length||1,h=J(1/d*a(ba)*b);ya.$.css({width:c+(h-c)/3+1});if(a(ba)===d&&c>b-1){ka=false;ya.$.fadeOut(300,function(){ya.$.css({opacity:1,width:0})})}}},"tick.reel":function(b){var c=a(ia),d=Z(da),h=g.monitor;if(!(!p.intense&&
Jc())){if(ma){c=c-a(Yb)/d*ma;c=e(ia,c>0.1?c:(ma=K=0))}h&&ec.text(a(h));c&&ma++;K&&K++;jc(0);Kb=true;if(K&&!c)return T(b);if(a(Ia))return T(b,H());if(!(a(xa)>0)){if(!g.loops&&g.rebound){!K&&!(a(z)%1)?Lb++:(Lb=0);Lb>=g.rebound*1E3/d&&e(M,!a(M))}b=a(wa)*Qa(1,a(M));d=a(ab);c=(!a(La)||!d?c:W(a(Ga))+c)/Z(da);e(z,a(z)-c*b);d=!g.duration?d:d>0&&e(ab,d-1);!d&&a(La)&&i.trigger("stop")}}},"tick.reel.opening":function(){if(a(ca)){var b=(g.entry||g.speed)/Z(da)*(g.cw?-1:1),c=e(xa,a(xa)-1);e(z,a(z)+b);c||i.trigger("openingDone")}}}},
ka=false,T=function(b,c){return b.stopImmediatePropagation()||c},K,ma=0,la=function(){return K=0},H=function(){clearTimeout(hc);ea.unbind(hb+y(ca),G.pool[hb+y(ca)]);e(xa,0);e(Ab,true);return K=-g.timeout*Z(da)},w=0,I=false,hc,ec=k(),ya=function(){E(D+y(kc),{position:gb,left:0,bottom:0,height:g.preloader,overflow:Db,backgroundColor:"#000"});return ya.$=k(V(ta),{"class":kc})},Ka=function(b){E(D+y(lc)+y(b),{position:gb,width:0,height:0,overflow:Db,backgroundColor:"#000"});return Ka["$"+b]=k(V(ta),{"class":lc+
D+b})},E=function(b,c,d){function h(n){var m=[];k.each(n,function(l,q){m.push(l.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+A(q)+";")});return"{"+m.join(O)+"}"}d=d?O:a(Xb);b=b.replace(/^/,d).replace(ja,ja+d);return E.rules.push(b+h(c))&&c},Jc=function(){var b=a(R),c=i[0].getBoundingClientRect();return c.top<-b||c.bottom>b+k(oa).height()},Lb=0,ib={x:0,y:0},jc=function(b){return Ma.push(b)&&Ma.shift()&&b},db=function(){return Ma=[0,0]},Ma=db(),ic=g.graph||p.math[g.loops?"hatch":"envelope"],Eb,cc=function(){clearTimeout(Eb);
Eb=setTimeout(Ib,p.resize_gauge)},Ib=function(){if(i.width()!=a(F)){var b=a(Tb),c=e(Cb,i.width()/b.width);k.each(b,function(d,h){e(d,J(h*c))});i.trigger("resize")}},jb=function(b,c,d){var h=e(Ya,a(z));e(zb,a(ua));var n=g.loops;e(Za,n?0:-h*b);e($a,n?b:b-h*b);return c&&e(Xa,{x:c,y:d})||t},Kb=true,fa=ea;try{if(ea[0]!=top.document)fa=ea.add(top.document)}catch(Nc){}top===self?k():function(b){k("iframe",fa.last()).each(function(){try{if(k(this).contents().find(Hb).html()==k(Hb).html())return(b=k(this))&&
false}catch(c){}});return b}();E.rules=[];G.setup()});lb=lb||function i(){var e=+new Date,a=Z(da);if(!a)return lb=null;ea.trigger(hb);p.cost=(+new Date+p.cost-e)/2;return lb=setTimeout(i,ob(4,1E3/a-p.cost))}();return k($)}else if(typeof u=="string")if(f.length==1){r=o[u];j.trigger("recall",[u,r]);return r}else{if(r!==t){p.normal[u]&&(r=p.normal[u](r,o));if(o[u]===t)o[u]=r;else if(o[u]!==r)j.trigger(u+"Change",[t,o[u]=r])}return j.trigger("store",[u,r])}},unreel:function(){return this.trigger("teardown")}},
re:{image:/^(.*)\.(jpg|jpeg|png|gif)\??.*$/i,ua:[/(msie|opera|firefox|chrome|safari)[ \/:]([\d.]+)/i,/(webkit)\/([\d.]+)/i,/(mozilla)\/([\d.]+)/i],array:/ *, */,touchy_agent:/iphone|ipod|ipad|android|fennec|rim tablet/i,lazy_agent:/\(iphone|ipod|android|fennec|blackberry/i,frame_klass:/frame-\d+/,sequence:/(^[^#|]*([#]+)[^#|]*)($|[|]([0-9]+)\.\.([0-9]+))($|[|]([0-9]+)$)/},cdn:"http://code.vostrel.net/",math:{envelope:function(f,j,o,u,r,g){return j+Ca(u,r,-f*g)/o},hatch:function(f,j,o,u,r,g){f=(f<
u?r:0)+f%r;f=j+-f*g/o;return f-kb(f)},interpolate:function(f,j,o){return j+f*(o-j)}},preload:{fidelity:function(f,j,o){function u(e,a,G){function ka(I){for(;!(I>=1&&I<=la);)I+=I<1?+la:-la;return i[G+I]||(i[G+I]=!!T.push(I))}if(!e.length)return[];var T=[],K=4*a,ma=j.frame,la=e.length;a=true;for(var H=la/K,w=0;w<K;w++)ka(ma+J(w*H));for(;H>1;){w=0;K=T.length;H/=2;for(a=!a;w<K;w++)ka(T[w]+(a?1:-1)*J(H))}for(w=0;w<=la;w++)ka(w);for(w=0;w<T.length;w++)T[w]=e[T[w]-1];return T}var r=j.orbital,g=r?2:j.rows||
1,$=r?o(ra):o(L);o=(j.row-1)*$;r=[].concat(f);var i=new Array(f.length+1);f=g<2?[]:r.slice(o,o+$);return u(f,1,o).concat(u(r,g,0))},linear:function(f){return f}},substitute:function(f,j){return f.replace(/@([A-Z])/g,function(o,u){switch(u){case "W":return j(F);case "H":return j(R);case "T":return+new Date}})},normal:{fraction:function(f,j){if(f===null)return f;return j[Ea].loops?f-kb(f):Ca(0,1,f)},tier:function(f){if(f===null)return f;return Ca(0,1,f)},row:function(f,j){if(f===null)return f;return J(Ca(1,
j[Ea].rows,f))},frame:function(f,j){if(f===null)return f;var o=j[Ea];j=j[L]*(o.orbital?2:o.rows||1);f=J(o.loops?f%j||j:Ca(1,j,f));return f<0?f+j:f},images:function(f,j){var o=p.re.sequence.exec(f);return!o?f:p.sequence(o,j[Ea])}},sequence:function(f,j){if(f.length<=1)return j.images;var o=[],u=j.orbital,r=f[1],g=f[2],$=+f[4]||1,i=u?2:j.rows||1;j=u?j.footage:j.stitched?1:j.frames;i=+(f[5]||i*j)-$;f=+f[7]||1;for(j=0;j<=i;){o.push(r.replace(g,pc($+j+O,g.length,"0")));j+=f}return o},instances:k(),leader:Z,
resize_gauge:300,cost:0},ea=k(U);U=navigator.userAgent;var za=p.re.ua[0].exec(U)||p.re.ua[1].exec(U)||p.re.ua[2].exec(U),Mb=+za[2].split(".").slice(0,2).join(".");za=za[1]=="MSIE";var Kc=!(za&&Mb<8),qc=!(za&&Mb<9),lb,C="reel",sb=C+"-overlay",lc=C+"-indicator",kc=C+"-preloader",fc=C+"-monitor",Sb=C+"-annotation",fb=C+"-panning",Fb=C+"-loading",Vb="frame-",na=Math,J=na.round,kb=na.floor,sa=na.ceil,Da=na.min,ob=na.max,W=na.abs,Ic=parseInt,Na=p.math.interpolate,bb="annotations",cb="area",Gb="auto",Zb=
"backup",M="backwards",Wa="bit",Yb="brake",Va="cache",Wb=Va+"d",Bb="center",Ia="clicked",Xa="clicked_location",Ya="clicked_on",zb="clicked_tier",wa="cwish",ra="footage",z="fraction",S="frame",L="frames",R="height",$a="hi",Db="hidden",xb="image",aa="images",Ha="loading",ca="opening",xa=ca+"_ticks",Za="lo",Ea="options",La="playing",ba="preloaded",Cb="ratio",Ja="reeling",Ab="reeled",Sa="responsive",Fa="revolution",vb="revolution_y",X="row",yb="rows",Ta="spacing",Ga="speed",Xb="stage",P="stitched",Ua=
P+"_shift",wb=P+"_travel",Jb="stopped",qa="style",da="tempo",ab="ticks",ua="tier",Tb="truescale",ia="velocity",va="vertical",F="width",N=y(C),ga=y("pan")+N,Ac="dragstart"+N,zc="mousedown"+N,yc="mouseenter"+N,Gc="mouseleave"+ga,Fc="mousemove"+ga,Hc="mouseup"+ga,xc="mousewheel"+N,hb="tick"+N,Ec="touchcancel"+ga,Dc="touchend"+ga,tc="touchstart"+N,Cc="touchmove"+ga,bc="resize"+N,O="",D=" ",ja=",",gb="absolute",ac="block",Aa="@CDN@",ta="div",dc="hand",Hb="head",rb="html",Y="id",tb="img",Nb="jquery."+C,
eb="none",nb="object",pb="string",sc=[F,R,Ta,Fa,vb,P,Ua,wb],gc=Kc?oc("CAAIAIAAAAAAAAAAACH5BAEAAAAALAAAAAAIAAgAAAIHhI+py+1dAAA7"):Aa+"blank.gif",vc=Ba(Aa+Nb+".cur")+ja+"move",uc=Ba(Aa+Nb+"-drag.cur")+ja+"move",wc=Ba(Aa+Nb+"-drag-down.cur")+ja+"move",pa=p.touchy=p.re.touchy_agent.test(U);p.lazy=p.re.lazy_agent.test(U);var Bc=pa?t:za&&Mb<9?1:0,Lc=k.cleanData;k.cleanData=function(f){Lc(k(f).each(function(){k(this).triggerHandler("clean")}))};k.extend(k.fn,p.fn)&&k(p.scan);return p}}(jQuery,window,document)});
