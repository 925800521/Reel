/*
 Copyright (c) 2009-2013 Petr Vostrel (http://petr.vostrel.cz/)
 Licensed under the MIT License (LICENSE.txt).

 jQuery Reel
 http://reel360.org
 Version: 1.2.2
 Updated: 2013-08-26

 Requires jQuery 1.5 or higher
*/
(function(k){var na=typeof define=="function"&&define.amd&&(define(["jquery"],k)||true),V=!na&&typeof module=="object"&&typeof module.exports=="object"&&(module.exports=k);!na&&!V&&k()})(function(){return jQuery.reel||function(k,na,V,s){function hc(g){return p.instances.push(g[0])&&g}function ic(g){return(p.instances=p.instances.not(Ka(g.attr(Z))))&&g}function $(g){return p.instances.first().data(g)}function jc(g){return"data:image/gif;base64,R0lGODlh"+g}function W(g){return"<"+g+"/>"}function v(g){return"."+
(g||"")}function La(g){return g.replace(xa,p.cdn)}function ya(g){return"url('"+hb(g)+"')"}function Jb(g,j){return typeof j==ib?j[g]:j}function za(g,j,o){return jb(g,Ma(j,o))}function Na(g,j){return X(g)*(j?-1:1)}function Oa(g){return oa?g.touch||g.originalEvent.touches[0]:g}function A(g){return g===s?0:typeof g==kb?g:g+"px"}function Ka(g){return"#"+g}function kc(g,j,o){for(;g.length<j;)g=o+g;return g}function hb(g){return encodeURI(decodeURI(g))}function lb(g){return p.re.array.exec(g)?g.split(p.re.array):
g}function Kb(g){return!g.parents(mb).length}function Lb(g){return typeof g==kb?g:k.each(g,function(j,o){g[j]=o?+o:s})}function Mb(g){try{console.warn("Deprecation - Please consult https://github.com/pisi/Reel/wiki/Deprecations")}catch(j){}return g}if(!(!k||+k().jquery.replace(".",N).substr(0,2)<15)){var p=k.reel={version:"1.2.2",def:{frame:1,frames:36,loops:true,clickfree:false,draggable:true,scrollable:true,steppable:true,throwable:true,wheelable:true,cw:false,revolution:s,stitched:0,directional:false,
row:1,rows:0,orbital:0,vertical:false,inversed:false,footage:6,spacing:0,horizontal:true,suffix:"-reel",image:s,images:"",path:"",preload:"fidelity",speed:0,delay:0,timeout:2,duration:s,rebound:0.5,entry:s,opening:0,brake:0.23,velocity:0,tempo:36,laziness:6,cursor:s,hint:"",indicator:0,klass:"",preloader:2,area:s,attr:{},annotations:s,graph:s,monitor:s,responsive:false,step:s,steps:s},scan:function(){return k(v(B)+":not("+v(nb)+" >)").each(function(g,j){g=k(j);j=g.data();j.images=lb(j.images);var o=
{};k(v(Nb)+"[data-for="+g.attr(Z)+"]").each(function(u,q){u=k(q);q=u.data();q.x=Lb(lb(q.x));q.y=Lb(lb(q.y));var b=u.attr(Z);q.node=u.removeData();o[b]=q});j.annotations=o;g.removeData().reel(j)})},fn:{reel:function(){var g=arguments,j=k(this),o=j.data(),u=g[0]||{},q=g[1];if(typeof u=="object"){var b=k.extend({},p.def,u);g=j.filter(ob).unreel().filter(function(){var i=k(this),e=b.attr,a=e.src||i.attr("src"),D=e.width||i.width();i=e.height||i.height();if(a&&D&&i)return true});var aa=[];b.step&&(b.frame=
b.step);b.steps&&(b.frames=b.steps);g.each(function(){var i=k(this),e=function(c,d){return i.reel(c,d)&&i.data(c)},a=function(c){return i.reel(c)},D={setup:function(){if(!(i.hasClass(B)&&i.parent().hasClass(nb))){e(Aa,b);var c=i.attr(b.attr).attr("src"),d=e(Z,i.attr(Z)||i.attr(Z,B+"-"+ +new Date).attr(Z)),f=i.attr(pa),h=k.extend({},i.data()),m=e(ha,b.images||[]),n=b.stitched,l=e(Pa,b.responsive&&!n&&!!m.length),t=e(Ob,{}),y=b.loops,r=b.orbital,C=b.revolution,O=b.rows,x=b.footage;e(pb,b.spacing);var ia=
e(I,i.width()),qb=e(ba,i.height()),Pb=e(J,r&&x||O<=1&&m.length||b.frames),lc=O>1||r;e(Ba,Jb("x",C)||n/2||ia*2);e(rb,!lc?0:Jb("y",C)||(O>3?qb:qb/(5-O)));O=n?1:qa(Pb/x);e(Qb,n-(y?0:ia));e(sb,0);d=Ka(d+b.suffix);C=i[0].className||N;x=k(W(ra),{id:d.substr(1),"class":C+E+nb+E+Rb+"0"});x=i.wrap(x.addClass(b.klass)).attr({"class":B});aa.push(hc(x)[0]);x=x.parent().bind(D.instance);e(tb,m.length?N:b.image||c.replace(p.re.image,"$1"+b.suffix+".$2"));e(Qa,k());e(Sb,[]);e(P,null);e(z,null);e(Y,null);e(sa,null);
e(ub,O);e(Ra,1/(Pb-(y&&!n?0:1)));e(Tb,d);e(K,e(Ca,b.speed)<0);e(ja,0);e(ta,b.vertical);e(Q,0);e(ua,Na(1,!b.cw&&!n));e(Sa,{});e(Da,false);e(Ta,e(vb,0));e(Ua,e(Va,0));e(Ea,false);e(wb,false);e(ca,false);e(Ub,b.brake);e(xb,!!r);e(da,b.tempo/(p.lazy?b.laziness:1));e(va,-1);e(Wa,-1);e(Xa,b.annotations||x.unbind(v(Xa))&&{});e(yb,1);e(Vb,{src:c,classes:C,style:f||N,data:h});b.steppable||x.unbind("up.steppable");b.indicator||x.unbind(".indicator");F(N,{overflow:zb,position:"relative"});l||F(N,{width:ia,height:qb});
l&&k.each(mc,function(Gc,Wb){t[Wb]=a(Wb)});F(ka+E+v(B),{display:Xb});R.bind(D.pool);i.trigger("setup")}},instance:{teardown:function(){var c=i.data(Vb);i.parent().unbind(D.instance);a(pa).remove();a(Ya).unbind(L);k(na).unbind(Yb,Ab);ic(i.unbind(L).removeData().siblings().unbind(L).remove().end().attr({"class":c.classes,src:c.src,style:c.style}).data(c.data).unwrap());Za();R.unbind(D.pool);ea.unbind(fa)},setup:function(){function c(m){return i.trigger("down",[Oa(m).clientX,Oa(m).clientY,m])&&m.give}
function d(m,n){return!n||i.trigger("wheel",[n,m])&&m.give}var f=a(I),h=a(ba);frames=a(J);id=i.attr(Z);rows=b.rows;stitched=b.stitched;$overlay=i.parent();$area=e(Ya,k(b.area||$overlay));rows=b.rows||1;F(E+v(B),{MozUserSelect:$a,WebkitUserSelect:$a,MozTransform:"translateZ(0)"});if(oa){F(E+v(B),{WebkitBackgroundSize:a(ha).length?!stitched?s:A(stitched)+E+A(h):stitched&&A(stitched)+E+A((h+b.spacing)*rows-b.spacing)||A((f+b.spacing)*b.footage-b.spacing)+E+A((h+b.spacing)*a(ub)*rows*(b.directional?2:
1)-b.spacing)});$area.bind(nc,c)}else{h=b.cursor;f=h==Zb?oc:h||pc;h=h==Zb?qc+E+"!important":s;F(N,{cursor:La(f)});F(v(Bb),{cursor:"wait"});F(v(ab)+ka+v(ab)+" *",{cursor:La(h||f)},true);$area.bind(b.wheelable?rc:null,d).bind(b.clickfree?sc:tc,c).bind(uc,function(){return false})}if(a(Pa)){F(E+v(B),{width:"100%",height:Cb});k(na).bind(Yb,Ab)}b.hint&&$area.attr("title",b.hint);b.indicator&&$overlay.append(Fa("x"));rows>1&&b.indicator&&$overlay.append(Fa("y"));b.monitor&&$overlay.append($b=k(W(ra),{"class":ac}))&&
F(E+v(ac),{position:bb,left:0,top:0})},preload:function(){function c(y,r){setTimeout(function(){!Kb(d)&&r.attr({src:hb(y)})},(l-n.length)*2)}var d=i.parent(),f=a(ha),h=!f.length;a(J);var m=p.preload[b.preload]||p.preload[p.def.preload],n=h?[a(tb)]:m(f.slice(0),b,a),l=n.length;e(Q,h?0.5:0);f=k(W(ra));h=[];d.addClass(Bb).append(la());e(pa,a(pa)||k("<"+pa+' type="text/css">'+F.rules.join("\n")+"</"+pa+">").prependTo(Db));for(i.trigger("stop");n.length;){m=b.path+n.shift();var t=k(W(ob)).appendTo(f);
t.bind("load error abort",function(y){y.type!="load"&&i.trigger(y.type);return!Kb(d)&&i.trigger("preloaded")&&false});c(m,t);h.push(m)}e(Qa,f);e(Sb,h)},preloaded:function(){var c=a(ha).length||1,d=e(Q,Ma(a(Q)+1,c));if(d===c){i.parent().removeClass(Bb).unbind(Q,D.instance.preloaded);i.trigger("loaded")}d===1&&i.trigger("frameChange",[s,a(P)])},loaded:function(){a(ha).length>1||i.css({backgroundImage:ya(b.path+a(tb))}).attr({src:La(bc)});b.stitched&&i.attr({src:La(bc)});a(wb)||e(ja,b.velocity||0)},
opening:function(){if(!b.opening)return i.trigger("openingDone");e(ca,true);e(Eb,!a(Ca));var c=b.entry||b.speed,d=a(z),f=b.opening;e(z,d-c*f);e(va,qa(f*$(da)))},openingDone:function(){e(Ga,false);e(ca,false);var c=ga+v(ca);R.unbind(c,D.pool[c]);if(b.delay>0)S=setTimeout(function(){i.trigger("play")},b.delay*1E3);else i.trigger("play")},play:function(c,d){d=d?e(Ca,d):a(Ca)*Na(1,a(K));(c=b.duration)&&e(Wa,qa(c*$(da)));e(K,d<0);d=e(Ga,!!d);e(Eb,!d);Fb()},pause:function(){H()},stop:function(){var c=e(Eb,
true);e(Ga,!c)},down:function(c,d,f,h){function m(l){return i.trigger("pan",[Oa(l).clientX,Oa(l).clientY,l])&&l.give}function n(l){return i.trigger("up",[l])&&l.give}if(!(h&&h.button!=vc&&!b.clickfree))if(b.draggable){e(Da,a(P));c=b.clickfree;e(ja,0);cb=db(a(Ba),d,f);oa||h&&h.preventDefault();H();Za();T=0;k(mb,ea).addClass(ab);oa?ea.bind(wc,m).bind(xc+E+yc,n):(c?a(Ya):ea).bind(zc,m).bind(c?Ac:Bc,n)}},up:function(){e(Da,false);e(Ea,false);var c=b.throwable,d=X(Ha[0]+Ha[1])/60;U=e(ja,!c?0:c===true?
d:Ma(c,d))?1:0;H();Za();k(mb,ea).removeClass(ab);(b.clickfree?a(Ya):ea).unbind(fa)},pan:function(c,d,f,h){if(b.draggable&&Gb){Gb=false;H();c=b.rows;var m=b.orbital,n=oa&&!a(Ea)&&c<=1&&!m&&b.scrollable,l={x:d-cb.x,y:f-cb.y},t={x:X(l.x),y:X(l.y)};if(h&&n&&t.x<t.y)return h.give=true;if(t.x>0||t.y>0){h&&(h.give=false);T=jb(t.x,t.y);cb={x:d,y:f};h=a(Ba);n=a(Sa);var y=a(ta);t=e(z,cc(y?f-n.y:d-n.x,a(Ta),h,a(Ua),a(Va),a(ua),y?f-n.y:d-n.x));e(Ea,a(Ea)||a(P)!=a(Da));(l=dc(y?l.y:l.x||0))&&e(K,l<0);if(m&&a(xb)){e(ta,
X(f-n.y)>X(d-n.x));n=db(h,d,f)}if(c>1){c=a(rb);m=a(vb);l=-m*c;e(sa,p.math.envelope(f-n.y,m,c,l,l+c,-1))}!(t%1)&&!b.loops&&db(h,d,f)}}},wheel:function(c,d,f){if(d){w=true;c=qa(ma.sqrt(X(d))/2);c=Na(c,d>0);d=0.0833*a(Ba);db(d);c&&e(K,c<0);e(ja,0);e(z,cc(c,a(Ta),d,a(Ua),a(Va),a(ua)));f&&f.preventDefault();f&&(f.give=false);H();i.trigger("up",[f])}},fractionChange:function(c,d,f){if(d!==s)return Mb(e(z,d));c=1+eb(f/a(Ra));d=b.rows>1;f=b.orbital;e(xb,!!f&&(c<=f||c>=b.footage-f+2));if(d)c+=(a(Y)-1)*a(J);
e(P,c)},tierChange:function(c,d,f){if(d===s){c=e(Y,M(Ia(f,1,b.rows)));d=a(J);f=a(P)%d||d;e(P,f+c*d-d)}},rowChange:function(c,d,f){if(d!==s)return e(Y,d);e(sa,1/(b.rows-1)*(f-1))},frameChange:function(c,d,f){if(d!==s)return Mb(e(P,d));this.className=this.className.replace(p.re.frame_klass,Rb+f);var h=a(J);d=b.rows;c=b.path;var m=f%h||h,n=!!a(Q),l=((f-m)/h+1-1)/(d-1),t=M(Ia(l,1,d)),y=a(Y);n&&t===y?a(sa):e(sa,l);m=Ma((m-1)/(h-1),0.9999);l=y*h-h;h=M(Ia(m,l+1,l+h));l=X((a(z)||0)-m)<1/(a(J)-1);n&&h===f&&
l?a(z):e(z,m);var r=b.footage;if(b.orbital&&a(ta)){f=b.inversed?r+1-f:f;f+=r}l=b.horizontal;var C=b.stitched;h=a(ha);var O=!h.length||b.stitched;t=a(pb);var x=a(I),ia=a(ba);if(O){if(C){f=e(sb,M(Ia(m,0,a(Qb)))%C);d=d<=1?0:(ia+t)*(d-y);f=[A(-f),A(-d)];(d=h.length>1&&h[y-1])&&i.css("backgroundImage").search(c+d)<0&&i.css({backgroundImage:ya(c+d)})}else{c=f%r-1;c=c<0?r-1:c;f=eb((f-0.1)/r);f+=d>1?0:a(K)?0:!b.directional?0:a(ub);f=f*((l?ia:x)+t);c=c*((l?x:ia)+t);f=h.length?[0,0]:l?[A(-c),A(-f)]:[A(-f),
A(-c)]}i.css({backgroundPosition:f.join(E)})}else{f=h[f-1];n&&i.attr({src:hb(c+f)});a(Pa)&&Ab()}},"imageChange imagesChange":function(){la.$.remove();a(Qa).empty().remove();i.parent().bind(Q,D.instance.preloaded);R.bind(ga+v(fb),D.pool[ga+v(fb)]);i.trigger("preload")},"fractionChange.indicator":function(c,d,f){if(d===s&&b.indicator){c=b.indicator;var h=b.orbital;d=h&&a(ta)?a(ba):a(I);h=h?b.footage:b.images.length||a(J);h=qa(d/h);d-=h;f=M(Ia(f,0,d));f=!b.cw||b.stitched?f:d-f;Fa.$x.css(a(ta)?{left:0,
top:A(f),bottom:Cb,width:c,height:h}:{bottom:0,left:A(f),top:Cb,width:h,height:c})}},"tierChange.indicator":function(c,d,f){if(d===s&&b.rows>1&&b.indicator){var h=a(ba);c=b.indicator;d=qa(h/b.rows);h-=d;f=M(f*h);Fa.$y.css({left:0,top:f,width:c,height:d})}},"setup.annotations":function(){var c=i.parent();a(I);a(ba);k.each(a(Xa),function(d,f){var h=typeof f.node==kb?k(f.node):f.node||{};h=h.jquery?h:k(W(ra),h);h=h.attr({id:d}).addClass(Nb);var m=f.image?k(W(ob),f.image):k(),n=f.link?k(W("a"),f.link).click(function(){i.trigger("up.annotations",
{target:n})}):k();F(Ka(d),{display:$a,position:bb},true);f.image||f.link&&h.append(n);f.link||f.image&&h.append(m);f.link&&f.image&&h.append(n.append(m));h.appendTo(c)})},"frameChange.annotations":function(c,d){var f=a(I),h=b.stitched,m=a(sb);a(Q)&&d===s&&k.each(a(Xa),function(n,l){n=k(Ka(n));var t=l.start||1,y=l.end,r=r||a(P),C=r-1,O=l.at?l.at[C]=="+":false;C=l.at?C:C-t+1;r=typeof l.x!=ib?l.x:l.x[C];var x=typeof l.y!=ib?l.y:l.y[C];l=r!==s&&x!==s&&(l.at?O:C>=0&&(!y||C<=y-t));if(h){t=r>h-f&&m>=0&&
m<f;r=!(r<f&&m>h-f)?r:r+h;r=!t?r:r-h;r-=m}if(a(Pa)){t=a(yb);r=r&&r*t;x=x&&x*t}r={display:l?Xb:$a,left:A(r),top:A(x)};n.css(r)})},"up.annotations":function(c,d){if(!(T>10||w)){c=k(d.target);(c.is("a")?c:c.parents("a")).attr("href")&&(T=10)}},"up.steppable":function(){T||w||i.trigger(a(Sa).x-i.offset().left>0.5*a(I)?"stepRight":"stepLeft")},"stepLeft stepRight":function(){H()},stepLeft:function(){e(K,false);e(z,a(z)-a(Ra)*a(ua))},stepRight:function(){e(K,true);e(z,a(z)+a(Ra)*a(ua))},stepUp:function(){e(Y,
a(Y)-1)},stepDown:function(){e(Y,a(Y)+1)},"setup.fu":function(){e(P,b.frame+(b.row-1)*a(J));i.trigger("preload")},"wheel.fu":function(){w=false},"clean.fu":function(){i.trigger("teardown")},"loaded.fu":function(){i.trigger("opening")}},pool:{"tick.reel.preload":function(){var c=a(I),d=Cc(la.$.css(I)),f=a(ha).length||1,h=M(1/f*a(Q)*c);la.$.css({width:d+(h-d)/3+1});if(a(Q)===f&&d>c-1){la.$.fadeOut(300,function(){la.$.remove()});R.unbind(ga+v(fb),D.pool[ga+v(fb)])}},"tick.reel":function(c){var d=a(ja),
f=$(da),h=b.monitor;if(!(!p.intense&&Dc())){if(U){d=d-a(Ub)/f*U;d=e(ja,d>0.1?d:(U=G=0))}h&&$b.text(a(h));d&&U++;G&&G++;dc(0);Gb=true;if(G&&!d)return wa(c);if(a(Da))return wa(c,H());if(!(a(va)>0)){if(!b.loops&&b.rebound){!G&&!(a(z)%1)?Hb++:(Hb=0);Hb>=b.rebound*1E3/f&&e(K,!a(K))}c=a(ua)*Na(1,a(K));f=a(Wa);d=(!a(Ga)||!f?d:X(a(Ca))+d)/$(da);e(z,a(z)-d*c);f=!b.duration?f:f>0&&e(Wa,f-1);!f&&a(Ga)&&i.trigger("stop")}}},"tick.reel.opening":function(){if(a(ca)){var c=(b.entry||b.speed)/$(da)*(b.cw?-1:1),d=
e(va,a(va)-1);e(z,a(z)+c);d||i.trigger("openingDone")}}}},wa=function(c,d){return c.stopImmediatePropagation()||d},G,U=0,Fb=function(){return G=0},H=function(){clearTimeout(S);R.unbind(ga+v(ca),D.pool[ga+v(ca)]);e(va,0);e(wb,true);return G=-b.timeout*$(da)},T=0,w=false,S,$b=k(),la=function(){F(E+v(ec),{position:bb,left:0,bottom:0,height:b.preloader,overflow:zb,backgroundColor:"#000"});return la.$=k(W(ra),{"class":ec})},Fa=function(c){F(E+v(fc)+v(c),{position:bb,width:0,height:0,overflow:zb,backgroundColor:"#000"});
return Fa["$"+c]=k(W(ra),{"class":fc+E+c})},F=function(c,d,f){function h(m){var n=[];k.each(m,function(l,t){n.push(l.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+A(t)+";")});return"{"+n.join(N)+"}"}f=f?N:a(Tb);c=c.replace(/^/,f).replace(ka,ka+f);return F.rules.push(c+h(d))&&d},Dc=function(){var c=a(ba),d=i[0].getBoundingClientRect();return d.top<-c||d.bottom>c+k(na).height()},Hb=0,cb={x:0,y:0},dc=function(c){return Ha.push(c)&&Ha.shift()&&c},Za=function(){return Ha=[0,0]},Ha=Za(),cc=b.graph||p.math[b.loops?
"hatch":"envelope"],Ab=function(){if(i.width()!=a(I)){var c=a(Ob),d=e(yb,i.width()/c.width);k.each(c,function(f,h){e(f,h*d)});i.trigger("frameChange.annotations")}},db=function(c,d,f){var h=e(Ta,a(z));e(vb,a(sa));var m=b.loops;e(Ua,m?0:-h*c);e(Va,m?c:c-h*c);return d&&e(Sa,{x:d,y:f})||s},Gb=true,ea=R;try{if(R[0]!=top.document)ea=R.add(top.document)}catch(Hc){}top===self?k():function(c){k("iframe",ea.last()).each(function(){try{if(k(this).contents().find(Db).html()==k(Db).html())return(c=k(this))&&
false}catch(d){}});return c}();F.rules=[];D.setup()});gb=gb||function i(){var e=+new Date,a=$(da);if(!a)return gb=null;R.trigger(ga);p.cost=(+new Date+p.cost-e)/2;return gb=setTimeout(i,jb(4,1E3/a-p.cost))}();return k(aa)}else if(typeof u=="string")if(g.length==1){q=o[u];j.trigger("recall",[u,q]);return q}else{if(q!==s){p.normal[u]&&(q=p.normal[u](q,o));if(o[u]===s)o[u]=q;else if(o[u]!==q)j.trigger(u+"Change",[s,o[u]=q])}return j.trigger("store",[u,q])}},unreel:function(){return this.trigger("teardown")}},
re:{image:/^(.*)\.(jpg|jpeg|png|gif)\??.*$/i,ua:[/(msie|opera|firefox|chrome|safari)[ \/:]([\d.]+)/i,/(webkit)\/([\d.]+)/i,/(mozilla)\/([\d.]+)/i],array:/ *, */,touchy_agent:/iphone|ipod|ipad|android|fennec|rim tablet/i,lazy_agent:/\(iphone|ipod|android|fennec|blackberry/i,frame_klass:/frame-\d+/,sequence:/(^[^#|]*([#]+)[^#|]*)($|[|]([0-9]+)\.\.([0-9]+))($|[|]([0-9]+)$)/},cdn:"http://code.vostrel.net/",math:{envelope:function(g,j,o,u,q,b){return j+za(u,q,-g*b)/o},hatch:function(g,j,o,u,q,b){g=(g<
u?q:0)+g%q;g=j+-g*b/o;return g-eb(g)},interpolate:function(g,j,o){return j+g*(o-j)}},preload:{fidelity:function(g,j,o){function u(e,a,D){function wa(S){for(;!(S>=1&&S<=H);)S+=S<1?+H:-H;return i[D+S]||(i[D+S]=!!G.push(S))}if(!e.length)return[];var G=[],U=4*a,Fb=j.frame,H=e.length;a=true;for(var T=H/U,w=0;w<U;w++)wa(Fb+M(w*T));for(;T>1;){w=0;U=G.length;T/=2;for(a=!a;w<U;w++)wa(G[w]+(a?1:-1)*M(T))}for(w=0;w<=H;w++)wa(w);for(w=0;w<G.length;w++)G[w]=e[G[w]-1];return G}var q=j.orbital,b=q?2:j.rows||1,aa=
q?j.footage:o(J);o=(j.row-1)*aa;q=[].concat(g);var i=new Array(g.length+1);g=b<2?[]:q.slice(o,o+aa);return u(g,1,o).concat(u(q,b,0))},linear:function(g){return g}},normal:{fraction:function(g,j){if(g===null)return g;return j[Aa].loops?g-eb(g):za(0,1,g)},tier:function(g){if(g===null)return g;return za(0,1,g)},row:function(g,j){if(g===null)return g;return M(za(1,j[Aa].rows,g))},frame:function(g,j){if(g===null)return g;var o=j[Aa];j=j[J]*(o.orbital?2:o.rows||1);g=M(o.loops?g%j||j:za(1,j,g));return g<
0?g+j:g},images:function(g,j){var o=p.re.sequence.exec(g);return!o?g:p.sequence(o,j[Aa])}},sequence:function(g,j){if(g.length<=1)return j.images;var o=[],u=j.orbital,q=g[1],b=g[2],aa=+g[4]||1,i=u?2:j.rows||1;j=u?j.footage:j.stitched?1:j.frames;i=+(g[5]||i*j)-aa;g=+g[7]||1;for(j=0;j<=i;){o.push(q.replace(b,kc(aa+j+N,b.length,"0")));j+=g}return o},instances:k(),leader:$,cost:0},R=k(V);V=navigator.userAgent;var Ja=p.re.ua[0].exec(V)||p.re.ua[1].exec(V)||p.re.ua[2].exec(V),gc=+Ja[2].split(".").slice(0,
2).join(".");Ja=Ja[1]=="MSIE";var Ec=!(Ja&&gc<8),gb,B="reel",nb=B+"-overlay",fc=B+"-indicator",ec=B+"-preloader",ac=B+"-monitor",Nb=B+"-annotation",ab=B+"-panning",Bb=B+"-loading",Rb="frame-",ma=Math,M=ma.round,eb=ma.floor,qa=ma.ceil,Ma=ma.min,jb=ma.max,X=ma.abs,Cc=parseInt,Ia=p.math.interpolate,Xa="annotations",Ya="area",Cb="auto",Vb="backup",K="backwards",Ra="bit",Ub="brake",Qa="cache",Sb=Qa+"d",xb="center",Da="clicked",Sa="clicked_location",Ta="clicked_on",vb="clicked_tier",ua="cwish",z="fraction",
P="frame",J="frames",ba="height",Va="hi",zb="hidden",tb="image",ha="images",ca="opening",va=ca+"_ticks",Ua="lo",Aa="options",Ga="playing",Q="preloaded",yb="ratio",Ea="reeling",wb="reeled",Pa="responsive",Ba="revolution",rb="revolution_y",Y="row",ub="rows",pb="spacing",Ca="speed",Tb="stage",sb="stitched_shift",Qb="stitched_travel",Eb="stopped",pa="style",da="tempo",Wa="ticks",sa="tier",Ob="truescale",ja="velocity",ta="vertical",I="width",L=v(B),fa=v("pan")+L,uc="dragstart"+L,tc="mousedown"+L,sc="mouseenter"+
L,Ac="mouseleave"+fa,zc="mousemove"+fa,Bc="mouseup"+fa,rc="mousewheel"+L,ga="tick"+L,yc="touchcancel"+fa,xc="touchend"+fa,nc="touchstart"+L,wc="touchmove"+fa,Yb="resize"+L,N="",E=" ",ka=",",bb="absolute",Xb="block",xa="@CDN@",ra="div",Zb="hand",Db="head",mb="html",Z="id",ob="img",Ib="jquery."+B,$a="none",ib="object",fb="preload",kb="string",mc=[I,ba,pb,Ba,rb],bc=Ec?jc("CAAIAIAAAAAAAAAAACH5BAEAAAAALAAAAAAIAAgAAAIHhI+py+1dAAA7"):xa+"blank.gif",pc=ya(xa+Ib+".cur")+ka+"move",oc=ya(xa+Ib+"-drag.cur")+
ka+"move",qc=ya(xa+Ib+"-drag-down.cur")+ka+"move",oa=p.touchy=p.re.touchy_agent.test(V);p.lazy=p.re.lazy_agent.test(V);var vc=oa?s:Ja&&gc<9?1:0,Fc=k.cleanData;k.cleanData=function(g){Fc(k(g).each(function(){k(this).triggerHandler("clean")}))};k.extend(k.fn,p.fn)&&k(p.scan);return p}}(jQuery,window,document)});
