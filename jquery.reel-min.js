/*
 Copyright (c) 2009-2013 Petr Vostrel (http://petr.vostrel.cz/)
 Licensed under the MIT License (LICENSE.txt).

 jQuery Reel
 http://reel360.org
 Version: 1.2.2
 Updated: 2013-08-29

 Requires jQuery 1.5 or higher
*/
(function(k){var oa=typeof define=="function"&&define.amd&&(define(["jquery"],k)||true),R=!oa&&typeof module=="object"&&typeof module.exports=="object"&&(module.exports=k);!oa&&!R&&k()})(function(){return jQuery.reel||function(k,oa,R,t){function mc(f){return o.instances.push(f[0])&&f}function nc(f){return(o.instances=o.instances.not(Oa(f.attr(ga))))&&f}function X(f){return o.instances.first().data(f)}function oc(f){return"data:image/gif;base64,R0lGODlh"+f}function S(f){return"<"+f+"/>"}function x(f){return"."+
(f||"")}function Pa(f){return f.replace(Aa,o.cdn)}function Ba(f){return"url('"+mb(f)+"')"}function Ob(f,j){return typeof j==nb?j[f]:j}function Ca(f,j,p){return ob(f,Da(j,p))}function Qa(f,j){return T(f)*(j?-1:1)}function Ra(f){return pa?f.touch||f.originalEvent.touches[0]:f}function A(f){return f===t?0:typeof f==pb?f:f+"px"}function Oa(f){return"#"+f}function pc(f,j,p){for(;f.length<j;)f=p+f;return f}function mb(f){return encodeURI(decodeURI(f))}function qb(f){return o.re.array.exec(f)?f.split(o.re.array):
f}function Pb(f){return!f.parents(rb).length}function Qb(f){return typeof f==pb?f:k.each(f,function(j,p){f[j]=p?+p:t})}function Rb(f){try{console.warn("Deprecation - Please consult https://github.com/pisi/Reel/wiki/Deprecations")}catch(j){}return f}if(!(!k||+k().jquery.replace(".",O).substr(0,2)<15)){var o=k.reel={version:"1.2.2",def:{frame:1,frames:36,loops:true,clickfree:false,draggable:true,scrollable:true,steppable:true,throwable:true,wheelable:true,cw:false,revolution:t,stitched:0,directional:false,
row:1,rows:0,orbital:0,vertical:false,inversed:false,footage:6,spacing:0,horizontal:true,suffix:"-reel",image:t,images:"",path:"",preload:"fidelity",speed:0,delay:0,timeout:2,duration:t,rebound:0.5,entry:t,opening:0,brake:0.23,velocity:0,tempo:36,laziness:6,cursor:t,hint:"",indicator:0,klass:"",preloader:2,area:t,attr:{},annotations:t,responsive:false,graph:t,monitor:t,step:t,steps:t},scan:function(){return k(x(B)+":not("+x(sb)+" >)").each(function(f,j){f=k(j);j=f.data();j.images=qb(j.images);var p=
{};k(x(Sb)+"[data-for="+f.attr(ga)+"]").each(function(u,r){u=k(r);r=u.data();r.x=Qb(qb(r.x));r.y=Qb(qb(r.y));var g=u.attr(ga);r.node=u.removeData();p[g]=r});j.annotations=p;f.removeData().reel(j)})},fn:{reel:function(){var f=arguments,j=k(this),p=j.data(),u=f[0]||{},r=f[1];if(typeof u=="object"){var g=k.extend({},o.def,u);f=j.filter(tb).unreel().filter(function(){var i=k(this),e=g.attr,a=e.src||i.attr("src"),F=e.width||i.width();i=e.height||i.height();if(a&&F&&i)return true});var Y=[];g.step&&(g.frame=
g.step);g.steps&&(g.frames=g.steps);f.each(function(){var i=k(this),e=function(b,d){return i.reel(b,d)&&i.data(b)},a=function(b){return i.reel(b)},F={setup:function(){if(!(i.hasClass(B)&&i.parent().hasClass(sb))){e(Ea,g);var b=i.attr(g.attr).attr("src"),d=e(ga,i.attr(ga)||i.attr(ga,B+"-"+ +new Date).attr(ga)),c=k.extend({},i.data()),h=e(Z,g.images||[]),n=e(U,g.stitched),m=!h.length||n;m=e(Sa,g.responsive&&(qc?true:!m));var l=e(Tb,{}),q=g.loops,v=g.orbital,s=g.revolution,y=g.rows,C=e(qa,Da(g.footage,
g.frames));e(Ta,g.spacing);var G=e(L,i.width()),ha=e($,i.height()),Ub=e(V,v&&C||y<=1&&h.length||g.frames),rc=y>1||v;e(Fa,Ob("x",s)||n/2||G*2);e(ub,!rc?0:Ob("y",s)||(y>3?ha:ha/(5-y)));y=n?1:ra(Ub/C);e(vb,n-(q?0:G));e(Ua,0);d=Oa(d+g.suffix);s=i[0].className||O;C=k(S(sa),{id:d.substr(1),"class":s+D+sb+D+Vb+"0"});C=i.wrap(C.addClass(g.klass)).attr({"class":B});Y.push(mc(C)[0]);C=C.parent().bind(F.instance);e(wb,h.length?O:g.image||b.replace(o.re.image,"$1"+g.suffix+".$2"));e(Va,k(S(sa)));e(Wb,[]);e(P,
null);e(z,null);e(W,null);e(ta,null);e(xb,y);e(Wa,1/(Ub-(q&&!n?0:1)));e(Xb,d);e(M,e(Ga,g.speed)<0);e(Ha,false);e(ia,0);e(ua,g.vertical);e(aa,0);e(va,Qa(1,!g.cw&&!n));e(Xa,{});e(Ia,false);e(Ya,e(yb,0));e(Za,e($a,0));e(Ja,false);e(zb,false);e(ba,false);e(Yb,g.brake);e(Ab,!!v);e(ca,g.tempo/(o.lazy?g.laziness:1));e(wa,-1);e(ab,-1);e(bb,g.annotations||C.unbind(x(bb))&&{});e(Bb,1);e(Zb,{src:b,classes:s,data:c,style:i.attr(xa)||O});g.steppable||C.unbind("up.steppable");g.indicator||C.unbind(".indicator");
E(O,{overflow:Cb,position:"relative"});m||E(O,{width:G,height:ha});m&&k.each(sc,function(Mc,$b){l[$b]=a($b)});E(ja+D+x(B),{display:ac});da.bind(F.pool);i.trigger("setup")}},instance:{teardown:function(){var b=i.data(Zb);i.parent().unbind(F.instance);a(xa).remove();a(Va).empty();clearTimeout(Db);clearTimeout(Eb);a(cb).unbind(N);k(oa).unbind(bc,cc);nc(i.unbind(N).removeData().siblings().unbind(N).remove().end().attr({"class":b.classes,src:b.src,style:b.style}).data(b.data).unwrap());db();da.unbind(F.pool);
ea.unbind(fa)},setup:function(){function b(q){return i.trigger("down",[Ra(q).clientX,Ra(q).clientY,q])&&q.give}function d(q,v){return!v||i.trigger("wheel",[v,q])&&q.give}var c=i.parent().append(ya()),h=e(cb,k(g.area||c)),n=g.rows>1;E(D+x(B),{MozUserSelect:eb,WebkitUserSelect:eb,MozTransform:"translateZ(0)"});if(pa)h.bind(tc,b);else{var m=g.cursor,l=m==dc?uc:m||vc;m=m==dc?wc+D+"!important":t;E(O,{cursor:Pa(l)});E(x(Fb),{cursor:"wait"});E(x(fb)+ja+x(fb)+" *",{cursor:Pa(m||l)},true);h.bind(g.wheelable?
xc:null,d).bind(g.clickfree?yc:zc,b).bind(Ac,function(){return false})}if(a(Sa)){E(D+x(B),{width:"100%",height:Gb});k(oa).bind(bc,cc)}g.hint&&h.attr("title",g.hint);g.indicator&&c.append(Ka("x"));n&&g.indicator&&c.append(Ka("y"));g.monitor&&c.append(ec=k(S(sa),{"class":fc}))&&E(D+x(fc),{position:gb,left:0,top:0})},preload:function(){function b(v,s){setTimeout(function(){!Pb(d)&&s.attr({src:mb(v)})},(l-m.length)*2)}var d=i.parent(),c=a(Z),h=!c.length,n=o.preload[g.preload]||o.preload[o.def.preload],
m=h?[a(wb)]:n(c.slice(0),g,a),l=m.length;e(aa,h?0.5:0);c=a(Va).empty();h=[];d.addClass(Fb);e(xa,a(xa)||k("<"+xa+' type="text/css">'+E.rules.join("\n")+"</"+xa+">").prependTo(Hb));e(Ha,true);i.trigger("stop");g.responsive&&Ib();for(i.trigger("resize",true);m.length;){n=o.substitute(g.path+m.shift(),a);var q=k(S(tb)).appendTo(c);q.bind("load error abort",function(v){v.type!="load"&&i.trigger(v.type);return!Pb(d)&&i.trigger("preloaded")&&false});b(n,q);h.push(n)}e(Wb,h)},preloaded:function(){var b=a(Z).length||
1,d=e(aa,Da(a(aa)+1,b));if(d===b){i.parent().removeClass(Fb);i.trigger("loaded")}d===1&&i.trigger("frameChange",[t,a(P)])},loaded:function(){a(Z).length>1||i.css({backgroundImage:Ba(o.substitute(g.path+a(wb),a))}).attr({src:Pa(gc)});a(U)&&i.attr({src:Pa(gc)});a(zb)||e(ia,g.velocity||0);e(Ha,false);ka=true},opening:function(){if(!g.opening)return i.trigger("openingDone");e(ba,true);e(Jb,!a(Ga));var b=g.entry||g.speed,d=a(z),c=g.opening;e(z,d-b*c);e(wa,ra(c*X(ca)))},openingDone:function(){e(La,false);
e(ba,false);var b=hb+x(ba);da.unbind(b,F.pool[b]);if(g.delay>0)Db=setTimeout(function(){i.trigger("play")},g.delay*1E3);else i.trigger("play")},play:function(b,d){d=d?e(Ga,d):a(Ga)*Qa(1,a(M));(b=g.duration)&&e(ab,ra(b*X(ca)));e(M,d<0);d=e(La,!!d);e(Jb,!d);la()},pause:function(){H()},stop:function(){var b=e(Jb,true);e(La,!b)},down:function(b,d,c,h){function n(l){return i.trigger("pan",[Ra(l).clientX,Ra(l).clientY,l])&&l.give}function m(l){return i.trigger("up",[l])&&l.give}if(!(h&&h.button!=Bc&&!g.clickfree))if(g.draggable){e(Ia,
a(P));b=g.clickfree;e(ia,0);ib=jb(a(Fa),d,c);pa||h&&h.preventDefault();H();db();w=0;k(rb,ea).addClass(fb);pa?ea.bind(Cc,n).bind(Dc+D+Ec,m):(b?a(cb):ea).bind(Fc,n).bind(b?Gc:Hc,m)}},up:function(){e(Ia,false);e(Ja,false);var b=g.throwable,d=T(Ma[0]+Ma[1])/60;ma=e(ia,!b?0:b===true?d:Da(b,d))?1:0;H();db();k(rb,ea).removeClass(fb);(g.clickfree?a(cb):ea).unbind(fa)},pan:function(b,d,c,h){if(g.draggable&&Kb){Kb=false;H();b=g.rows;var n=g.orbital,m=pa&&!a(Ja)&&b<=1&&!n&&g.scrollable,l={x:d-ib.x,y:c-ib.y},
q={x:T(l.x),y:T(l.y)};if(h&&m&&q.x<q.y)return h.give=true;if(q.x>0||q.y>0){h&&(h.give=false);w=ob(q.x,q.y);ib={x:d,y:c};h=a(Fa);m=a(Xa);var v=a(ua);q=e(z,hc(v?c-m.y:d-m.x,a(Ya),h,a(Za),a($a),a(va),v?c-m.y:d-m.x));e(Ja,a(Ja)||a(P)!=a(Ia));(l=ic(v?l.y:l.x||0))&&e(M,l<0);if(n&&a(Ab)){e(ua,T(c-m.y)>T(d-m.x));m=jb(h,d,c)}if(b>1){b=a(ub);n=a(yb);l=-n*b;e(ta,o.math.envelope(c-m.y,n,b,l,l+b,-1))}!(q%1)&&!g.loops&&jb(h,d,c)}}},wheel:function(b,d,c){if(d){I=true;b=ra(na.sqrt(T(d))/2);b=Qa(b,d>0);d=0.0833*a(Fa);
jb(d);b&&e(M,b<0);e(ia,0);e(z,hc(b,a(Ya),d,a(Za),a($a),a(va)));c&&c.preventDefault();c&&(c.give=false);H();i.trigger("up",[c])}},fractionChange:function(b,d,c){if(d!==t)return Rb(e(z,d));b=1+kb(c/a(Wa));d=g.rows>1;c=g.orbital;e(Ab,!!c&&(b<=c||b>=a(qa)-c+2));if(d)b+=(a(W)-1)*a(V);e(P,b)},tierChange:function(b,d,c){if(d===t){b=e(W,J(Na(c,1,g.rows)));d=a(V);c=a(P)%d||d;e(P,c+b*d-d)}},rowChange:function(b,d,c){if(d!==t)return e(W,d);e(ta,1/(g.rows-1)*(c-1))},frameChange:function(b,d,c){if(d!==t)return Rb(e(P,
d));this.className=this.className.replace(o.re.frame_klass,Vb+c);var h=a(V);d=g.rows;b=g.path;var n=c%h||h,m=!!a(aa),l=((c-n)/h+1-1)/(d-1),q=J(Na(l,1,d)),v=a(W);m&&q===v?a(ta):e(ta,l);n=Da((n-1)/(h-1),0.9999);l=v*h-h;h=J(Na(n,l+1,l+h));l=T((a(z)||0)-n)<1/(a(V)-1);m&&h===c&&l?a(z):e(z,n);var s=a(qa);if(g.orbital&&a(ua)){c=g.inversed?s+1-c:c;c+=s}l=g.horizontal;var y=a(U);h=a(Z);var C=!h.length||y;q=a(Ta);var G=a(L),ha=a($);if(C){if(y){c=e(Ua,J(Na(n,0,a(vb)))%y);d=d<=1?0:(ha+q)*(d-v);c=[A(-c),A(-d)];
d=h.length>1&&h[v-1];b=o.substitute(b+d,a);d&&i.css("backgroundImage").search(b)<0&&i.css({backgroundImage:Ba(b)})}else{b=c%s-1;b=b<0?s-1:b;c=kb((c-0.1)/s);c+=d>1?0:a(M)?0:!g.directional?0:a(xb);c=c*((l?ha:G)+q);b=b*((l?G:ha)+q);c=h.length?[0,0]:l?[A(-b),A(-c)]:[A(-c),A(-b)]}i.css({backgroundPosition:c.join(D)})}else{c=h[c-1];a(Sa)&&Ib();m&&i.attr({src:mb(o.substitute(b+c,a))})}},"imageChange imagesChange":function(){i.trigger("preload")},"fractionChange.indicator":function(b,d,c){if(d===t&&g.indicator){b=
g.indicator;var h=g.orbital;d=h&&a(ua)?a($):a(L);h=h?a(qa):g.images.length||a(V);h=ra(d/h);d-=h;c=J(Na(c,0,d));c=!g.cw||a(U)?c:d-c;Ka.$x.css(a(ua)?{left:0,top:A(c),bottom:Gb,width:b,height:h}:{bottom:0,left:A(c),top:Gb,width:h,height:b})}},"tierChange.indicator":function(b,d,c){if(d===t&&g.rows>1&&g.indicator){var h=a($);b=g.indicator;d=ra(h/g.rows);h-=d;c=J(c*h);Ka.$y.css({left:0,top:c,width:b,height:d})}},"setup.annotations":function(){var b=i.parent();k.each(a(bb),function(d,c){var h=typeof c.node==
pb?k(c.node):c.node||{};h=h.jquery?h:k(S(sa),h);h=h.attr({id:d}).addClass(Sb);var n=c.image?k(S(tb),c.image):k(),m=c.link?k(S("a"),c.link).click(function(){i.trigger("up.annotations",{target:m})}):k();E(Oa(d),{display:eb,position:gb},true);c.image||c.link&&h.append(m);c.link||c.image&&h.append(n);c.link&&c.image&&h.append(m.append(n));h.appendTo(b)})},"frameChange.annotations":function(b,d){if(!(!a(aa)||d!==t)){var c=a(L),h=a(U),n=a(Ua);k.each(a(bb),function(m,l){m=k(Oa(m));var q=l.start||1,v=l.end,
s=s||a(P),y=s-1,C=l.at?l.at[y]=="+":false;y=l.at?y:y-q+1;s=typeof l.x!=nb?l.x:l.x[y];var G=typeof l.y!=nb?l.y:l.y[y];l=s!==t&&G!==t&&(l.at?C:y>=0&&(!v||y<=v-q));if(h){q=s>h-c&&n>=0&&n<c;s=!(s<c&&n>h-c)?s:s+h;s=!q?s:s-h;s-=n}if(a(Sa)){q=a(Bb);s=s&&s*q;G=G&&G*q}s={display:l?ac:eb,left:A(s),top:A(G)};m.css(s)})}},"up.annotations":function(b,d){if(!(w>10||I)){b=k(d.target);(b.is("a")?b:b.parents("a")).attr("href")&&(w=10)}},"up.steppable":function(){w||I||i.trigger(a(Xa).x-i.offset().left>0.5*a(L)?"stepRight":
"stepLeft")},"stepLeft stepRight":function(){H()},stepLeft:function(){e(M,false);e(z,a(z)-a(Wa)*a(va))},stepRight:function(){e(M,true);e(z,a(z)+a(Wa)*a(va))},stepUp:function(){e(W,a(W)-1)},stepDown:function(){e(W,a(W)+1)},resize:function(b,d){if(!(a(Ha)&&!d)){var c=a(U),h=a(Ta);b=a($);var n=!a(Z).length||c,m=g.rows||1;c=a(Z).length?!c?t:A(c)+D+A(b):c&&A(c)+D+A((b+h)*m-h)||A((a(L)+h)*a(qa)-h)+D+A((b+h)*a(xb)*m*(g.directional?2:1)-h);i.css({height:n?A(b):null,backgroundSize:c});d||i.trigger("imagesChange")}},
"setup.fu":function(){e(P,g.frame+(g.row-1)*a(V));i.trigger("preload")},"wheel.fu":function(){I=false},"clean.fu":function(){i.trigger("teardown")},"loaded.fu":function(){i.trigger("opening")}},pool:{"tick.reel.preload":function(){if(ka||a(Ha)){var b=a(L),d=Ic(ya.$.css(L)),c=a(Z).length||1,h=J(1/c*a(aa)*b);ya.$.css({width:d+(h-d)/3+1});if(a(aa)===c&&d>b-1){ka=false;ya.$.fadeOut(300,function(){ya.$.css({opacity:1,width:0})})}}},"tick.reel":function(b){var d=a(ia),c=X(ca),h=g.monitor;if(!(!o.intense&&
Jc())){if(ma){d=d-a(Yb)/c*ma;d=e(ia,d>0.1?d:(ma=K=0))}h&&ec.text(a(h));d&&ma++;K&&K++;ic(0);Kb=true;if(K&&!d)return Q(b);if(a(Ia))return Q(b,H());if(!(a(wa)>0)){if(!g.loops&&g.rebound){!K&&!(a(z)%1)?Lb++:(Lb=0);Lb>=g.rebound*1E3/c&&e(M,!a(M))}b=a(va)*Qa(1,a(M));c=a(ab);d=(!a(La)||!c?d:T(a(Ga))+d)/X(ca);e(z,a(z)-d*b);c=!g.duration?c:c>0&&e(ab,c-1);!c&&a(La)&&i.trigger("stop")}}},"tick.reel.opening":function(){if(a(ba)){var b=(g.entry||g.speed)/X(ca)*(g.cw?-1:1),d=e(wa,a(wa)-1);e(z,a(z)+b);d||i.trigger("openingDone")}}}},
ka=false,Q=function(b,d){return b.stopImmediatePropagation()||d},K,ma=0,la=function(){return K=0},H=function(){clearTimeout(Db);da.unbind(hb+x(ba),F.pool[hb+x(ba)]);e(wa,0);e(zb,true);return K=-g.timeout*X(ca)},w=0,I=false,ec=k(),ya=function(){E(D+x(jc),{position:gb,left:0,bottom:0,height:g.preloader,overflow:Cb,backgroundColor:"#000"});return ya.$=k(S(sa),{"class":jc})},Ka=function(b){E(D+x(kc)+x(b),{position:gb,width:0,height:0,overflow:Cb,backgroundColor:"#000"});return Ka["$"+b]=k(S(sa),{"class":kc+
D+b})},E=function(b,d,c){function h(n){var m=[];k.each(n,function(l,q){m.push(l.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+A(q)+";")});return"{"+m.join(O)+"}"}c=c?O:a(Xb);b=b.replace(/^/,c).replace(ja,ja+c);return E.rules.push(b+h(d))&&d},Jc=function(){var b=a($),d=i[0].getBoundingClientRect();return d.top<-b||d.bottom>b+k(oa).height()},Lb=0,ib={x:0,y:0},ic=function(b){return Ma.push(b)&&Ma.shift()&&b},db=function(){return Ma=[0,0]},Ma=db(),hc=g.graph||o.math[g.loops?"hatch":"envelope"],cc=function(){clearTimeout(Eb);
Eb=setTimeout(Ib,o.resize_gauge)},Ib=function(){if(i.width()!=a(L)){var b=a(Tb),d=e(Bb,i.width()/b.width);k.each(b,function(c,h){e(c,J(h*d))});i.trigger("resize")}},Db,Eb,jb=function(b,d,c){var h=e(Ya,a(z));e(yb,a(ta));var n=g.loops;e(Za,n?0:-h*b);e($a,n?b:b-h*b);return d&&e(Xa,{x:d,y:c})||t},Kb=true,ea=da;try{if(da[0]!=top.document)ea=da.add(top.document)}catch(Nc){}top===self?k():function(b){k("iframe",ea.last()).each(function(){try{if(k(this).contents().find(Hb).html()==k(Hb).html())return(b=k(this))&&
false}catch(d){}});return b}();E.rules=[];F.setup()});lb=lb||function i(){var e=+new Date,a=X(ca);if(!a)return lb=null;da.trigger(hb);o.cost=(+new Date+o.cost-e)/2;return lb=setTimeout(i,ob(4,1E3/a-o.cost))}();return k(Y)}else if(typeof u=="string")if(f.length==1){r=p[u];j.trigger("recall",[u,r]);return r}else{if(r!==t){o.normal[u]&&(r=o.normal[u](r,p));if(p[u]===t)p[u]=r;else if(p[u]!==r)j.trigger(u+"Change",[t,p[u]=r])}return j.trigger("store",[u,r])}},unreel:function(){return this.trigger("teardown")}},
re:{image:/^(.*)\.(jpg|jpeg|png|gif)\??.*$/i,ua:[/(msie|opera|firefox|chrome|safari)[ \/:]([\d.]+)/i,/(webkit)\/([\d.]+)/i,/(mozilla)\/([\d.]+)/i],array:/ *, */,touchy_agent:/iphone|ipod|ipad|android|fennec|rim tablet/i,lazy_agent:/\(iphone|ipod|android|fennec|blackberry/i,frame_klass:/frame-\d+/,substitution:/(@([A-Z]))/g,sequence:/(^[^#|]*([#]+)[^#|]*)($|[|]([0-9]+)\.\.([0-9]+))($|[|]([0-9]+)$)/},cdn:"http://code.vostrel.net/",math:{envelope:function(f,j,p,u,r,g){return j+Ca(u,r,-f*g)/p},hatch:function(f,
j,p,u,r,g){f=(f<u?r:0)+f%r;f=j+-f*g/p;return f-kb(f)},interpolate:function(f,j,p){return j+f*(p-j)}},preload:{fidelity:function(f,j,p){function u(e,a,F){function ka(I){for(;!(I>=1&&I<=la);)I+=I<1?+la:-la;return i[F+I]||(i[F+I]=!!Q.push(I))}if(!e.length)return[];var Q=[],K=4*a,ma=j.frame,la=e.length;a=true;for(var H=la/K,w=0;w<K;w++)ka(ma+J(w*H));for(;H>1;){w=0;K=Q.length;H/=2;for(a=!a;w<K;w++)ka(Q[w]+(a?1:-1)*J(H))}for(w=0;w<=la;w++)ka(w);for(w=0;w<Q.length;w++)Q[w]=e[Q[w]-1];return Q}var r=j.orbital,
g=r?2:j.rows||1,Y=r?p(qa):p(V);p=(j.row-1)*Y;r=[].concat(f);var i=new Array(f.length+1);f=g<2?[]:r.slice(p,p+Y);return u(f,1,p).concat(u(r,g,0))},linear:function(f){return f}},substitute:function(f,j){return f.replace(o.re.substitution,function(p,u,r){return typeof o.substitutes[r]=="function"?o.substitutes[r](j):lc[r]?j(lc[r]):u})},substitutes:{T:function(){return+new Date}},normal:{fraction:function(f,j){if(f===null)return f;return j[Ea].loops?f-kb(f):Ca(0,1,f)},tier:function(f){if(f===null)return f;
return Ca(0,1,f)},row:function(f,j){if(f===null)return f;return J(Ca(1,j[Ea].rows,f))},frame:function(f,j){if(f===null)return f;var p=j[Ea];j=j[V]*(p.orbital?2:p.rows||1);f=J(p.loops?f%j||j:Ca(1,j,f));return f<0?f+j:f},images:function(f,j){var p=o.re.sequence.exec(f);return!p?f:o.sequence(p,j[Ea])}},sequence:function(f,j){if(f.length<=1)return j.images;var p=[],u=j.orbital,r=f[1],g=f[2],Y=+f[4]||1,i=u?2:j.rows||1;j=u?j.footage:j.stitched?1:j.frames;i=+(f[5]||i*j)-Y;f=+f[7]||1;for(j=0;j<=i;){p.push(r.replace(g,
pc(Y+j+O,g.length,"0")));j+=f}return p},instances:k(),leader:X,resize_gauge:300,cost:0},da=k(R);R=navigator.userAgent;var za=o.re.ua[0].exec(R)||o.re.ua[1].exec(R)||o.re.ua[2].exec(R),Mb=+za[2].split(".").slice(0,2).join(".");za=za[1]=="MSIE";var Kc=!(za&&Mb<8),qc=!(za&&Mb<9),lb,B="reel",sb=B+"-overlay",kc=B+"-indicator",jc=B+"-preloader",fc=B+"-monitor",Sb=B+"-annotation",fb=B+"-panning",Fb=B+"-loading",Vb="frame-",na=Math,J=na.round,kb=na.floor,ra=na.ceil,Da=na.min,ob=na.max,T=na.abs,Ic=parseInt,
Na=o.math.interpolate,bb="annotations",cb="area",Gb="auto",Zb="backup",M="backwards",Wa="bit",Yb="brake",Va="cache",Wb=Va+"d",Ab="center",Ia="clicked",Xa="clicked_location",Ya="clicked_on",yb="clicked_tier",va="cwish",qa="footage",z="fraction",P="frame",V="frames",$="height",$a="hi",Cb="hidden",wb="image",Z="images",Ha="loading",ba="opening",wa=ba+"_ticks",Za="lo",Ea="options",La="playing",aa="preloaded",Bb="ratio",Ja="reeling",zb="reeled",Sa="responsive",Fa="revolution",ub="revolution_y",W="row",
xb="rows",Ta="spacing",Ga="speed",Xb="stage",U="stitched",Ua=U+"_shift",vb=U+"_travel",Jb="stopped",xa="style",ca="tempo",ab="ticks",ta="tier",Tb="truescale",ia="velocity",ua="vertical",L="width",N=x(B),fa=x("pan")+N,Ac="dragstart"+N,zc="mousedown"+N,yc="mouseenter"+N,Gc="mouseleave"+fa,Fc="mousemove"+fa,Hc="mouseup"+fa,xc="mousewheel"+N,hb="tick"+N,Ec="touchcancel"+fa,Dc="touchend"+fa,tc="touchstart"+N,Cc="touchmove"+fa,bc="resize"+N,O="",D=" ",ja=",",gb="absolute",ac="block",Aa="@CDN@",sa="div",
dc="hand",Hb="head",rb="html",ga="id",tb="img",Nb="jquery."+B,eb="none",nb="object",pb="string",sc=[L,$,Ta,Fa,ub,U,Ua,vb],lc={W:L,H:$},gc=Kc?oc("CAAIAIAAAAAAAAAAACH5BAEAAAAALAAAAAAIAAgAAAIHhI+py+1dAAA7"):Aa+"blank.gif",vc=Ba(Aa+Nb+".cur")+ja+"move",uc=Ba(Aa+Nb+"-drag.cur")+ja+"move",wc=Ba(Aa+Nb+"-drag-down.cur")+ja+"move",pa=o.touchy=o.re.touchy_agent.test(R);o.lazy=o.re.lazy_agent.test(R);var Bc=pa?t:za&&Mb<9?1:0,Lc=k.cleanData;k.cleanData=function(f){Lc(k(f).each(function(){k(this).triggerHandler("clean")}))};
k.extend(k.fn,o.fn)&&k(o.scan);return o}}(jQuery,window,document)});
