/*
 Copyright (c) 2009-2014 Petr Vostrel (http://petr.vostrel.cz/)
 Licensed under the MIT License (LICENSE.txt).

 jQuery Reel
 http://reel360.org
 Version: 1.3.1-devel
 Updated: 2014-03-28

 Requires jQuery 1.6.2 or higher
*/
(function(k){var P=typeof define=="function"&&define.amd&&(define(["jquery"],k)||true),X=!P&&typeof module=="object"&&typeof module.exports=="object"&&(module.exports=k);!P&&!X&&k()})(function(){return jQuery.reel||function(k,P,X,s){function Ec(f){return n.instances.push(f[0])&&f}function Fc(f){return(n.instances=n.instances.not(Ca(f.attr(ka))))&&f}function Y(f){return n.instances.first().data(f)}function Gc(f){return"data:image/gif;base64,R0lGODlh"+f}function V(f){return"<"+f+"/>"}function x(f){return"."+
(f||"")}function Va(f){return f.replace(Da,n.cdn)}function Ea(f){return"url('"+cc(f)+"')"}function dc(f,j){return typeof j==ub?j[f]:j}function Fa(f,j,o){return vb(f,Ga(j,o))}function Ha(f,j){return H(f)*(j?-1:1)}function Wa(f){return f.touch||f.originalEvent.touches&&f.originalEvent.touches[0]||f}function wb(f){return f.originalEvent}function y(f){return f===s?0:typeof f==xb?f:f+"px"}function Ca(f){return"#"+f}function ec(f,j,o){for(;f.length<j;)f=o+f;return f}function yb(f){return ec(f,2,"0")}function cc(f){return encodeURI(decodeURI(f))}
function zb(f){return n.re.array.exec(f)?f.split(n.re.array):f}function Hc(f){return!f.parents(Ab).length}function fc(f){return typeof f==xb?f:k.each(f,function(j,o){f[j]=o?+o:s})}function Bb(f){try{console.error("[ Reel ] "+f)}catch(j){}}function Ic(f){return P.toStaticHTML?toStaticHTML(f):f}if(k){var Z=k&&k().jquery.split(/\./);if(!Z||+(yb(Z[0])+yb(Z[1])+yb(Z[2]||""))<10602)return Bb("Too old jQuery library. Please upgrade your jQuery to version 1.6.2 or higher");var n=k.reel={version:"1.3.1-devel",
def:{frame:1,frames:36,loops:true,clickfree:false,draggable:true,scrollable:true,steppable:true,throwable:true,wheelable:true,orientable:false,cw:false,revolution:s,stitched:0,directional:false,row:1,rows:0,rowlock:false,framelock:false,orbital:0,vertical:false,inversed:false,footage:6,spacing:0,horizontal:true,suffix:"-reel",image:s,images:"",path:"",preload:"fidelity",shy:false,speed:0,delay:0,timeout:2,duration:s,rebound:0.5,entry:s,opening:0,brake:0.23,velocity:0,tempo:36,laziness:6,cursor:s,
hint:"",indicator:0,klass:"",preloader:2,area:s,attr:{},annotations:s,responsive:false,graph:s,monitor:s},scan:function(){return k(x(z)+":not("+x(Cb)+" > "+x(z)+")").each(function(f,j){f=k(j);j=f.data();j.images=zb(j.images);var o={};k(x(gc)+"[data-for="+f.attr(ka)+"]").each(function(t,r){t=k(r);r=t.data();r.x=fc(zb(r.x));r.y=fc(zb(r.y));var g=t.attr(ka);r.node=t.removeData();o[g]=r});j.annotations=o;f.removeData().reel(j)})},fn:{reel:function(){var f=arguments,j=k(this),o=j.data(),t=f[0]||{},r=f[1];
if(typeof t!="object")if(t.slice(0,1)==":")return j.trigger(t.slice(1),r);else if(f.length==1)return o[t];else{if(r!==s){n.normal[t]&&(r=n.normal[t](r,o));if(o[t]===s)o[t]=r;else if(o[t]!==r)j.trigger(t+"Change",[s,o[t]=r])}return j}else{var g=k.extend({},n.def,t),L=[];j.filter(Xa).unreel().filter(function(){var h=k(this),e=g.attr,a=e.src||h.attr(ra),I=e.width||h.attr(M)||h.width();h=e.height||h.attr(E)||h.height();if(!a)return Bb("`src` attribute missing on target image");if(!I||!h)return Bb("Dimension(s) of the target image unknown");
return true}).each(function(){var h=k(this),e=function(b,d){return h.reel(b,d)&&a(b)},a=function(b){return h.data(b)},I={setup:function(){if(!(h.hasClass(z)&&h.parent().hasClass(Cb))){e(Ia,g);var b={src:h.attr(ra),width:h.attr(E)||null,height:h.attr(M)||null,style:h.attr($)||null,"class":h.attr(hc)||null},d=h.attr(g.attr).attr(ra),c=e(ka,h.attr(ka)||h.attr(ka,z+"-"+ +new Date).attr(ka)),i=k.extend({},h.data()),p=e(aa,g.images||[]),m=e(W,g.stitched),l=!p.length||m;l=e(Ya,g.responsive&&(Jc?true:!l));
var q=e(ic,{}),D=g.loops,v=g.orbital,u=g.revolution,ba=g.rows,ca=e(sa,Ga(g.footage,g.frames));e(Za,g.spacing);var Db=e(E,+h.attr(E)||h.width()),Eb=e(M,+h.attr(M)||h.height()),Kc=e(Ja,g.shy),jc=e(Q,v&&ca||ba<=1&&p.length||g.frames),Lc=ba>1||v;e(Ka,dc("x",u)||m/2||Db*2);e(Fb,!Lc?0:dc("y",u)||(ba>3?Eb:Eb/(5-ba)));ba=m?1:la(jc/ca);e(Gb,m-(D?0:Db));e($a,0);c=Ca(c+g.suffix);u=h.attr(hc);u=!u?N:u+A;u=k(V(ta),{id:c.substr(1),"class":u+A+Cb+A+kc+"0"});u=h.wrap(u.addClass(g.klass)).addClass(z);L.push(Ec(u)[0]);
u=u.parent().bind(I.instance);e(Hb,p.length?N:g.image||d.replace(n.re.image,"$1"+g.suffix+".$2"));e(ab,k(V(ta),{"class":Ib}).appendTo("body"));e(La,k());e(lc,[]);e(J,null);e(B,null);e(R,g.row);e(ua,0);e(Jb,ba);e(mc,g.rowlock);e(nc,g.framelock);e(bb,e(Ma,e(cb,0)));e(db,1/(jc-+!D));e(oc,c);e(va,g.speed);e(K,false);e(Na,false);e(ma,0);e(wa,g.vertical);e(da,0);e(xa,Ha(1,!g.cw&&!m));e(eb,{});e(ea,false);e(fb,e(Kb,0));e(gb,e(hb,0));e(Oa,false);e(Lb,false);e(fa,false);e(pc,g.brake);e(Mb,!!v);e(ga,g.tempo/
(n.lazy?g.laziness:1));e(ya,-1);e(ib,-1);e(Pa,g.annotations||u.unbind(x(Pa))&&{});e(Nb,1);e(qc,"");e(rc,{attr:b,data:i});g.steppable||u.unbind("up.steppable");g.indicator||u.unbind(".indicator");C(N,{overflow:Ob,position:"relative"});l||C(N,{width:Db,height:Eb});l&&k.each(Mc,function(gd,sc){q[sc]=a(sc)});C(na+A+x(z),{display:Pb});C(x(Ib),{position:"fixed",left:y(-100),top:y(-100)},true);C(x(Ib)+A+Xa,{position:Qa,width:10,height:10},true);ha.bind(I.pool);h.trigger(Kc?"prepare":"setup")}},instance:{teardown:function(){var b=
h.data(rc);h.parent().unbind(I.instance);if(a(Ja))h.parent().unbind(jb,ia);else a($).remove()&&a(La).unbind(F);a(ab).remove();clearTimeout(Qb);clearTimeout(Rb);k(P).unbind(tc,uc);k(P).unbind(F);ha.unbind(I.pool);oa.unbind(ja);h.siblings().unbind(F).remove();kb();h.removeAttr("onloaded");Fc(h.unbind(F).removeData().unwrap().attr(b.attr).data(b.data));h.attr($)==N&&h.removeAttr($)},setup:function(){function b(q){return h.trigger("down",[Wa(q).clientX,Wa(q).clientY,q])&&q.give}function d(q,D){return!D||
h.trigger("wheel",[D,q])&&q.give}var c=h.parent().append(za()),i=e(La,k(g.area||c)),p=g.rows>1,m=g.cursor,l=m==vc?Nc:m||Oc;m=m==vc?Pc+A+"!important":s;C(A+x(z),{MozUserSelect:lb,WebkitUserSelect:lb,MozTransform:"translateZ(0)"});h.unbind(jb,ia);i.bind(Qc,b).bind(g.clickfree?Rc:Sc,b).bind(g.wheelable?Tc:null,d).bind(Uc,function(){return false});C(N,{cursor:Va(l)});C(x(Sb),{cursor:"wait"});C(x(mb)+na+x(mb)+" *",{cursor:Va(m||l)},true);if(a(Ya)){C(A+x(z),{width:"100%",height:Tb});k(P).bind(tc,uc)}g.hint&&
i.attr("title",g.hint);g.indicator&&c.append(Ra("x"));p&&g.indicator&&c.append(Ra("y"));g.monitor&&c.append(Ub())},preload:function(){function b(){var q=l.children(':not([src]),[src=""]').first();return q.attr(ra,q.data(ra))}var d=h.parent(),c=a(aa),i=!c.length,p=n.preload[g.preload]||n.preload[n.def.preload];c=i?[a(Hb)]:p(c.slice(0),g,a);e(da,i?0.5:0);var m=0,l=a(ab).empty();i=[];d.addClass(Sb);e($,a($)||k(Ic("<"+$+' type="text/css">'+C.rules.join("\n")+"</"+$+">")).prependTo(Vb));e(Na,true);h.trigger("stop");
g.responsive&&Wb();for(h.trigger("resize",true);c.length;){p=n.substitute(g.path+c.shift(),a);k(V(Xa)).data(ra,p).appendTo(l).bind("load error abort",function(q){q.type!="load"&&h.trigger(q.type);return!Hc(d)&&h.trigger("preloaded")&&b()&&false});i.push(p)}setTimeout(function(){for(;++m<n.concurrent_requests;)b()},0);e(lc,i);e(Ja,false)},preloaded:function(){var b=a(aa).length||1,d=e(da,Ga(a(da)+1,b));d===1&&h.trigger("frameChange",[s,a(J)]);if(d===b){h.parent().removeClass(Sb);h.trigger("loaded")}},
loaded:function(){a(aa).length>1||h.css({backgroundImage:Ea(n.substitute(g.path+a(Hb),a))}).attr({src:Va(wc)});a(W)&&h.attr({src:Va(wc)});a(Lb)||e(ma,g.velocity||0);e(Na,false);pa=true},prepare:function(){h.css("display",Pb).parent().one(jb,ia)},opening:function(){if(!g.opening)return h.trigger("openingDone");e(fa,true);e(Xb,!a(va));var b=g.entry||g.speed,d=a(B),c=g.opening;e(B,d-b*c);e(ya,la(c*Y(ga)))},openingDone:function(){function b(c){return h.trigger("orient",[wb(c).alpha,wb(c).beta,wb(c).gamma,
c])&&c.give}e(Sa,false);e(fa,false);var d=nb+x(fa);ha.unbind(d,I.pool[d]);g.orientable&&k(P).bind(Vc,b);if(g.delay>0)Qb=setTimeout(function(){h.trigger("play")},g.delay*1E3);else h.trigger("play")},play:function(b,d){d=d?e(va,d):a(va)*Ha(1,a(K));(b=g.duration)&&e(ib,la(b*Y(ga)));e(K,d<0);d=e(Sa,!!d);e(Xb,!d);Aa()},reach:function(b,d,c){if(d!=a(J)){b=a(Q);e(R,la(d/b));var i=e(bb,a(J));d=e(Ma,d);d=e(cb,n.math.distance(i,d,b));c=H(c||a(va))*Ha(1,d<0);h.trigger("play",c)}},pause:function(){w()},stop:function(){var b=
e(Xb,true);e(Sa,!b)},down:function(b,d,c,i){function p(l){return h.trigger("pan",[Wa(l).clientX,Wa(l).clientY,l])&&l.give}function m(l){return h.trigger("up",[l])&&l.give}if(Yb(i))return b.stopImmediatePropagation();if(!(!g.clickfree&&i&&i.button!==s&&i.button!=Wc))if(g.draggable){e(ea,a(J));b=g.clickfree;e(ma,0);i=b?a(La):oa;ob=pb(a(Ka),d,c);w();kb();G=0;k(Ab,oa).addClass(mb);i.bind(Xc+A+Yc,p).bind(Zc+A+$c,m).bind(b?ad:bd,m)}},up:function(b,d){if(Yb(d,true))return b.stopImmediatePropagation();e(ea,
false);e(Oa,false);b=g.throwable;d=H(Ta[0]+Ta[1])/60;O=e(ma,!b?0:b===true?d:Ga(b,d))?1:0;w();kb();k(Ab,oa).removeClass(mb);(g.clickfree?a(La):oa).unbind(ja)},pan:function(b,d,c,i){if(Yb(i))return b.stopImmediatePropagation();if(g.draggable&&Ua){Ua=false;w();b=g.rows;var p=g.orbital,m=!a(Oa)&&b<=1&&!p&&g.scrollable,l={x:d-ob.x,y:c-ob.y},q={x:H(l.x),y:H(l.y)};if(i&&m&&q.x<q.y)return i.give=true;if(q.x>0||q.y>0){i&&(i.give=false);G=vb(q.x,q.y);ob={x:d,y:c};i=a(Ka);m=a(eb);q=a(wa);if(!a(nc)){var D=e(B,
xc(q?c-m.y:d-m.x,a(fb),i,a(gb),a(hb),a(xa),q?c-m.y:d-m.x));e(Oa,a(Oa)||a(J)!=a(ea));(l=yc(q?l.y:l.x||0))&&e(K,l<0)}if(p&&a(Mb)){e(wa,H(c-m.y)>H(d-m.x));m=pb(i,d,c)}if(b>1&&!a(mc)){b=a(Fb);p=a(Kb);l=-p*b;e(ua,n.math.envelope(c-m.y,p,b,l,l+b,-1))}!(D%1)&&!g.loops&&pb(i,d,c)}}},wheel:function(b,d,c){if(d){qb=true;b=la(qa.sqrt(H(d))/2);b=Ha(b,d>0);d=0.0833*a(Ka);pb(d);b&&e(K,b<0);e(ma,0);e(B,xc(b,a(fb),d,a(gb),a(hb),a(xa)));c&&c.preventDefault();c&&(c.give=false);w();h.trigger("up",[c])}},orient:function(b,
d){if(!(!Ua||S)){zc=true;b=d/360;fraction=e(B,+(g.stitched||g.cw?1-b:b).toFixed(2));Ua=false}},fractionChange:function(b,d,c){if(d===s){b=1+rb(c/a(db));d=g.rows>1;c=g.orbital;e(Mb,!!c&&(b<=c||b>=a(sa)-c+2));if(d)b+=(a(R)-1)*a(Q);e(J,b)}},tierChange:function(b,d,c){if(d===s){b=e(R,T(Zb(c,1,g.rows)));d=a(Q);c=a(J)%d||d;e(J,c+b*d-d)}},rowChange:function(b,d,c){d===s&&$b(ua,s,c,g.rows)},frameChange:function(b,d,c){if(d===s){this.className=this.className.replace(n.re.frame_klass,kc+c);b=a(Q);d=g.rows;
var i=g.path,p=c%b||b,m=((c-p)/b+1-1)/(d-1),l=a(R);!d?a(ua):$b(ua,m,l,d);var q=$b(B,s,p,b),D=a(sa);if(g.orbital&&a(wa)){c=g.inversed?D+1-c:c;c+=D}var v=a(W);b=a(aa);if(!b.length||v){p=a(Za);var u=a(E);m=a(M);if(v){c=e($a,T(Zb(q,0,a(Gb)))%v);d=d<=1?0:(m+p)*(d-l);c=[y(-c),y(-d)];b=b.length>1&&b[l-1];d=n.substitute(i+b,a);b&&h.css("backgroundImage").search(d)<0&&h.css({backgroundImage:Ea(d)})}else{i=g.horizontal;l=c%D-1;l=l<0?D-1:l;c=rb((c-0.1)/D);c+=d>1?0:a(K)?0:!g.directional?0:a(Jb);c=c*((i?m:u)+
p);d=l*((i?u:m)+p);c=b.length?[0,0]:i?[y(-d),y(-c)]:[y(-c),y(-d)]}h.css({backgroundPosition:c.join(A)})}else{a(Ya)&&Wb();a(da)&&h.attr({src:cc(n.substitute(i+b[c-1],a))})}}},"frameChange.reach":function(b,d,c){if(!(!a(Ma)||d!==s)){b=n.math.distance(a(bb),c,a(Q));if(H(b)>=H(a(cb))){e(J,e(Ma));e(Ma,e(cb,e(bb,0)));h.trigger("stop")}}},"imageChange imagesChange":function(){h.trigger("preload")},"fractionChange.indicator":function(b,d,c){if(g.indicator&&d===s){b=g.indicator;var i=g.orbital;d=i&&a(wa)?
a(M):a(E);i=i?a(sa):g.images.length||a(Q);i=la(d/i);d-=i;c=T(Zb(c,0,d));c=!g.cw||a(W)?c:d-c;Ra.$x.css(a(wa)?{left:0,top:y(c),bottom:Tb,width:b,height:i}:{bottom:0,left:y(c),top:Tb,width:i,height:b})}},"tierChange.indicator":function(b,d,c){if(g.rows>1&&g.indicator&&d===s){var i=a(M);b=g.indicator;d=la(i/g.rows);i-=d;c=T(c*i);Ra.$y.css({left:0,top:c,width:b,height:d})}},monitorChange:function(b,d,c){Ub.$.text(c)},"setup.annotations":function(){var b=h.parent();k.each(a(Pa),function(d,c){var i=typeof c.node==
xb?k(c.node):c.node||{};i=i.jquery?i:k(V(ta),i);i=i.attr({id:d}).addClass(gc);var p=c.image?k(V(Xa),c.image):k(),m=c.link?k(V("a"),c.link).click(function(){h.trigger("up.annotations",{target:m})}):k();C(Ca(d),{display:lb,position:Qa},true);c.image||c.link&&i.append(m);c.link||c.image&&i.append(p);c.link&&c.image&&i.append(m.append(p));i.appendTo(b)})},"prepare.annotations":function(){k.each(a(Pa),function(b){k(Ca(b)).hide()})},"frameChange.annotations":function(b,d){if(!(!a(da)||d!==s)){var c=a(E),
i=a(W),p=a($a);k.each(a(Pa),function(m,l){m=k(Ca(m));var q=l.start||1,D=l.end,v=v||a(J),u=v-1,ba=l.at?l.at[u]=="+":false;u=l.at?u:u-q+1;v=typeof l.x!=ub?l.x:l.x[u];var ca=typeof l.y!=ub?l.y:l.y[u];l=v!==s&&ca!==s&&(l.at?ba:u>=0&&(!D||u<=D-q));if(i){q=v>i-c&&p>=0&&p<c;v=!(v<c&&p>i-c)?v:v+i;v=!q?v:v-i;v-=p}if(a(Ya)){q=a(Nb);v=v&&v*q;ca=ca&&ca*q}v={display:l?Pb:lb,left:y(v),top:y(ca)};m.css(v)})}},"up.annotations":function(b,d){if(!(G>10||qb)){b=k(d.target);(b.is("a")?b:b.parents("a")).attr("href")&&
(G=10)}},"up.steppable":function(){G||qb||h.trigger(a(eb).x-h.offset().left>0.5*a(E)?"stepRight":"stepLeft")},"stepLeft stepRight":function(){w()},stepLeft:function(){e(K,false);e(B,a(B)-a(db)*a(xa))},stepRight:function(){e(K,true);e(B,a(B)+a(db)*a(xa))},stepUp:function(){e(R,a(R)-1)},stepDown:function(){e(R,a(R)+1)},resize:function(b,d){if(!(a(Na)&&!d)){var c=a(W),i=a(Za);b=a(M);var p=!a(aa).length||c,m=g.rows||1;c=a(aa).length?!c?s:y(c)+A+y(b):c&&y(c)+A+y((b+i)*m-i)||y((a(E)+i)*a(sa)-i)+A+y((b+
i)*a(Jb)*m*(g.directional?2:1)-i);h.css({height:p?y(b):null,backgroundSize:c||null});d||h.trigger("imagesChange")}},"setup.fu":function(){e(J,g.frame+(a(R)-1)*a(Q));h.trigger("preload")},"wheel.fu":function(){qb=false},"clean.fu":function(){h.trigger("teardown")},"loaded.fu":function(){h.trigger("opening")}},pool:{"tick.reel.preload":function(){if(!(!(pa||a(Na))||a(Ja))){var b=a(E),d=cd(za.$.css(E)),c=a(aa).length||1,i=T(1/c*a(da)*b);za.$.css({width:d+(i-d)/3+1});if(a(da)===c&&d>b-1){pa=false;za.$.fadeOut(300,
function(){za.$.css({opacity:1,width:0})})}}},"tick.reel":function(b){if(!a(Ja)){var d=a(ma),c=Y(ga),i=g.monitor;if(!(!n.intense&&dd())){if(O){d=d-a(pc)/c*O;d=e(ma,d>0.1?d:(O=S=0))}i&&e(qc,a(i)+N);d&&O++;S&&S++;sb>0&&sb--;yc(0);Ua=true;if(S&&!d)return U(b);if(a(ea))return U(b,w());if(!(a(ya)>0)){if(!g.loops&&g.rebound){!S&&!(a(B)%1)?ac++:(ac=0);ac>=g.rebound*1E3/c&&e(K,!a(K))}b=a(xa)*Ha(1,a(K));c=a(ib);d=(!a(Sa)||zc||!c?d:H(a(va))+d)/Y(ga);e(B,a(B)-d*b);c=!g.duration?c:c>0&&e(ib,c-1);!c&&a(Sa)&&h.trigger("stop")}}}},
"tick.reel.opening":function(){if(a(fa)){var b=(g.entry||g.speed)/Y(ga)*(g.cw?-1:1),d=e(ya,a(ya)-1);e(B,a(B)+b);d||h.trigger("openingDone")}}}},pa=false,U=function(b,d){return b.stopImmediatePropagation()||d},ia=function(){h.trigger("setup")},S,O=0,Aa=function(){return S=0},w=function(){clearTimeout(Qb);ha.unbind(nb+x(fa),I.pool[nb+x(fa)]);e(ya,0);e(Lb,true);return S=-g.timeout*Y(ga)},G=0,qb=false,zc=false,sb=0,Yb=function(b,d){(b=b.type.match(/^touch/))&&(sb=d?30:-1);return sb&&!b},Ub=function(){C(A+
x(Ac),{position:Qa,left:0,top:0});return Ub.$=k(V(ta),{"class":Ac})},za=function(){C(A+x(Bc),{position:Qa,left:0,bottom:0,height:g.preloader,overflow:Ob,backgroundColor:"#000"});return za.$=k(V(ta),{"class":Bc})},Ra=function(b){C(A+x(Cc)+x(b),{position:Qa,width:0,height:0,overflow:Ob,backgroundColor:"#000"});return Ra["$"+b]=k(V(ta),{"class":Cc+A+b})},C=function(b,d,c){function i(p){var m=[];k.each(p,function(l,q){m.push(l.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+y(q)+";")});return"{"+m.join(N)+
"}"}c=c?N:a(oc);b=b.replace(/^/,c).replace(na,na+c);return C.rules.push(b+i(d))&&d},dd=function(){var b=a(M),d=a(E),c=h[0].getBoundingClientRect();return c.top<-b||c.left<-d||c.right>d+k(P).width()||c.bottom>b+k(P).height()},ac=0,ob={x:0,y:0},yc=function(b){return Ta.push(b)&&Ta.shift()&&b},kb=function(){return Ta=[0,0]},Ta=kb(),xc=g.graph||n.math[g.loops?"hatch":"envelope"],uc=function(){clearTimeout(Rb);Rb=setTimeout(Wb,n.resize_gauge)},Wb=function(){if(h.width()!=a(E)){var b=a(ic),d=e(Nb,h.width()/
b.width);k.each(b,function(c,i){e(c,T(i*d))});h.trigger("resize")}},Qb,Rb,pb=function(b,d,c){var i=e(fb,a(B));e(Kb,a(ua));var p=g.loops;e(gb,p?0:-i*b);e(hb,p?b:b-i*b);return d!==s&&e(eb,{x:d,y:c})||s},Ua=true,$b=function(b,d,c,i){if(i){var p=a(b)||0;c=d!==s?d:(c-1)/(i-1);c=b!=B?c:Ga(c,0.9999);return d=+H(p-c).toFixed(8)>=+(1/(i-1)).toFixed(8)?e(b,c):d||p}},oa=ha;try{if(ha[0]!=top.document)oa=ha.add(top.document)}catch(hd){}top===self?k():function(b){k("iframe",oa.last()).each(function(){try{if(k(this).contents().find(Vb).html()==
k(Vb).html())return(b=k(this))&&false}catch(d){}});return b}();C.rules=[];I.setup()});tb=tb||function h(){var e=+new Date,a=Y(ga);if(!a)return tb=null;ha.trigger(nb);n.cost=(+new Date+n.cost-e)/2;return tb=setTimeout(h,vb(4,1E3/a-n.cost))}();return k(L)}},unreel:function(){return this.trigger("teardown")}},re:{image:/^(.*)\.(jpg|jpeg|png|gif)\??.*$/i,ua:[/(msie|opera|firefox|chrome|safari)[ \/:]([\d.]+)/i,/(webkit)\/([\d.]+)/i,/(mozilla)\/([\d.]+)/i],array:/ *, */,lazy_agent:/\(iphone|ipod|android|fennec|blackberry/i,
frame_klass:/frame-\d+/,substitution:/(@([A-Z]))/g,no_match:/^(undefined|)$/,sequence:/(^[^#|]*([#]+)[^#|]*)($|[|]([0-9]+)\.\.([0-9]+))($|[|]([0-9]+)$)/},cdn:"http://code.vostrel.net/",math:{envelope:function(f,j,o,t,r,g){return j+Fa(t,r,-f*g)/o},hatch:function(f,j,o,t,r,g){f=(f<t?r:0)+f%r;f=j+-f*g/o;return f-rb(f)},interpolate:function(f,j,o){return j+f*(o-j)},distance:function(f,j,o){var t=o/2;f=j-f;return f<-t?f+o:f>t?f-o:f}},preload:{fidelity:function(f,j,o){function t(e,a,I){function pa(G){for(;!(G>=
1&&G<=O);)G+=G<1?+O:-O;return h[I+G]||(h[I+G]=!!U.push(G))}if(!e.length)return[];var U=[],ia=4*a,S=j.frame,O=e.length;a=true;for(var Aa=O/ia,w=0;w<ia;w++)pa(S+T(w*Aa));for(;Aa>1;){w=0;ia=U.length;Aa/=2;for(a=!a;w<ia;w++)pa(U[w]+(a?1:-1)*T(Aa))}for(w=0;w<=O;w++)pa(w);for(w=0;w<U.length;w++)U[w]=e[U[w]-1];return U}var r=j.orbital,g=r?2:j.rows||1,L=r?o(sa):o(Q);o=(j.row-1)*L;r=[].concat(f);var h=new Array(f.length+1);f=g<2?[]:r.slice(o,o+L);return t(f,1,o).concat(t(r,g,0))},linear:function(f){return f}},
substitute:function(f,j){return f.replace(n.re.substitution,function(o,t,r){return typeof n.substitutes[r]=="function"?n.substitutes[r](j):Dc[r]?j(Dc[r]):t})},substitutes:{T:function(){return+new Date}},normal:{fraction:function(f,j){if(f===null)return f;return j[Ia].loops?f-rb(f):Fa(0,1,f)},tier:function(f){if(f===null)return f;return Fa(0,1,f)},row:function(f,j){if(f===null)return f;return T(Fa(1,j[Ia].rows,f))},frame:function(f,j){if(f===null)return f;var o=j[Ia];j=j[Q]*(o.orbital?2:o.rows||1);
f=T(o.loops?f%j||j:Fa(1,j,f));return f<0?f+j:f},speed:function(f,j){j[K]=f<0;return f},images:function(f,j){var o=n.re.sequence.exec(f);return!o?f:n.sequence(o,j[Ia])}},sequence:function(f,j){if(f.length<=1)return j.images;var o=[],t=j.orbital,r=f[1],g=f[2],L=f[4];L=n.re.no_match.test(L+N)?1:+L;var h=t?2:j.rows||1;j=t?j.footage:j.stitched?1:j.frames;h=+(f[5]||h*j)-L;f=+f[7]||1;for(j=0;j<=h;){o.push(r.replace(g,ec(L+j+N,g.length,"0")));j+=f}return o},instances:k(),leader:Y,resize_gauge:300,concurrent_requests:4,
cost:0},ha=k(X);X=navigator.userAgent;var Ba=n.re.ua[0].exec(X)||n.re.ua[1].exec(X)||n.re.ua[2].exec(X);Z=+Ba[2].split(".").slice(0,2).join(".");Ba=Ba[1]=="MSIE";var ed=!(Ba&&Z<8),Jc=!(Ba&&Z<9),tb,z="reel",Cb=z+"-overlay",Ib=z+"-cache",Cc=z+"-indicator",Bc=z+"-preloader",Ac=z+"-monitor",gc=z+"-annotation",mb=z+"-panning",Sb=z+"-loading",kc="frame-",qa=Math,T=qa.round,rb=qa.floor,la=qa.ceil,Ga=qa.min,vb=qa.max,H=qa.abs,cd=parseInt,Zb=n.math.interpolate,Pa="annotations",La="area",Tb="auto",rc="backup",
K="backwards",db="bit",pc="brake",ab="cache",lc=ab+"d",Mb="center",hc="class",jb="click",ea=jb+"ed",eb=ea+"_location",fb=ea+"_on",Kb=ea+"_tier",xa="cwish",bb="departure",Ma="destination",cb="distance",sa="footage",B="fraction",J="frame",nc="framelock",Q="frames",M="height",hb="hi",Ob="hidden",Hb="image",aa="images",gb="lo",Na="loading",qc="monitor",fa="opening",ya=fa+"_ticks",Ia="options",Sa="playing",da="preloaded",Nb="ratio",Oa="reeling",Lb="reeled",Ya="responsive",Ka="revolution",Fb="revolution_y",
R="row",mc="rowlock",Jb="rows",Ja="shy",Za="spacing",va="speed",ra="src",oc="stage",W="stitched",$a=W+"_shift",Gb=W+"_travel",Xb="stopped",$="style",ga="tempo",ib="ticks",ua="tier",ic="truescale",ma="velocity",wa="vertical",E="width",F=x(z),ja=x("pan")+F,Vc="deviceorientation"+F,Uc="dragstart"+F,Sc="mousedown"+F,Rc="mouseenter"+F,ad="mouseleave"+ja,Yc="mousemove"+ja,bd="mouseup"+ja,Tc="mousewheel"+F,nb="tick"+F,$c="touchcancel"+ja,Zc="touchend"+ja,Qc="touchstart"+F,Xc="touchmove"+ja,tc="resize"+F,
N="",A=" ",na=",",Qa="absolute",Pb="block",Da="@CDN@",ta="div",vc="hand",Vb="head",Ab="html",ka="id",Xa="img",bc="jquery."+z,lb="none",ub="object",xb="string",Mc=[E,M,Za,Ka,Fb,W,$a,Gb],Dc={W:E,H:M},wc=ed?Gc("CAAIAIAAAAAAAAAAACH5BAEAAAAALAAAAAAIAAgAAAIHhI+py+1dAAA7"):Da+"blank.gif",Oc=Ea(Da+bc+".cur")+na+"move",Nc=Ea(Da+bc+"-drag.cur")+na+"move",Pc=Ea(Da+bc+"-drag-down.cur")+na+"move";n.lazy=n.re.lazy_agent.test(X);var Wc=Ba&&Z<9?1:0,fd=k.cleanData;k.cleanData=function(f){k(f).each(function(){k(this).triggerHandler("clean")});
return fd.apply(this,arguments)};k.extend(k.fn,n.fn)&&k(n.scan);return n}}(jQuery,window,document)});
