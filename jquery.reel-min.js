/*
 Copyright (c) 2009-2013 Petr Vostrel (http://petr.vostrel.cz/)
 Licensed under the MIT License (LICENSE.txt).

 jQuery Reel
 http://reel360.org
 Version: 1.2.2
 Updated: 2013-08-26

 Requires jQuery 1.5 or higher
*/
(function(k){var ma=typeof define=="function"&&define.amd&&(define(["jquery"],k)||true),T=!ma&&typeof module=="object"&&typeof module.exports=="object"&&(module.exports=k);!ma&&!T&&k()})(function(){return jQuery.reel||function(k,ma,T,s){function cc(f){return q.instances.push(f[0])&&f}function dc(f){return(q.instances=q.instances.not(Ia(f.attr(Z))))&&f}function $(f){return q.instances.first().data(f)}function ec(f){return"data:image/gif;base64,R0lGODlh"+f}function U(f){return"<"+f+"/>"}function v(f){return"."+
(f||"")}function Ja(f){return f.replace(va,q.cdn)}function wa(f){return"url('"+gb(f)+"')"}function Cb(f,j){return typeof j==hb?j[f]:j}function xa(f,j,p){return ib(f,Ka(j,p))}function La(f,j){return V(f)*(j?-1:1)}function Ma(f){return ga?f.touch||f.originalEvent.touches[0]:f}function jb(f){return f.originalEvent}function A(f){return f===s?0:typeof f==kb?f:f+"px"}function Ia(f){return"#"+f}function fc(f,j,p){for(;f.length<j;)f=p+f;return f}function gb(f){return encodeURI(decodeURI(f))}function lb(f){return q.re.array.exec(f)?
f.split(q.re.array):f}function Db(f){return!f.parents(mb).length}function Eb(f){return typeof f==kb?f:k.each(f,function(j,p){f[j]=p?+p:s})}function Fb(f){try{console.warn("Deprecation - Please consult https://github.com/pisi/Reel/wiki/Deprecations")}catch(j){}return f}function gc(f){try{console.error(f)}catch(j){}}if(!(!k||+k().jquery.replace(".",W).substr(0,2)<15)){var q=k.reel={version:"1.2.2",def:{frame:1,frames:36,loops:true,clickfree:false,draggable:true,scrollable:true,steppable:true,throwable:true,
wheelable:true,orientable:false,cw:false,revolution:s,stitched:0,directional:false,row:1,rows:0,rowlock:false,framelock:false,orbital:0,vertical:false,inversed:false,footage:6,spacing:0,horizontal:true,suffix:"-reel",image:s,images:"",path:"",preload:"fidelity",speed:0,delay:0,timeout:2,duration:s,rebound:0.5,entry:s,opening:0,brake:0.23,velocity:0,tempo:36,laziness:6,cursor:s,hint:"",indicator:0,klass:"",preloader:2,area:s,attr:{},annotations:s,graph:s,monitor:s,step:s,steps:s},scan:function(){return k(v(C)+
":not("+v(nb)+" >)").each(function(f,j){f=k(j);j=f.data();j.images=lb(j.images);var p={};k(v(Gb)+"[data-for="+f.attr(Z)+"]").each(function(t,r){t=k(r);r=t.data();r.x=Eb(lb(r.x));r.y=Eb(lb(r.y));var a=t.attr(Z);r.node=t.removeData();p[a]=r});j.annotations=p;f.removeData().reel(j)})},fn:{reel:function(){var f=arguments,j=k(this),p=j.data(),t=f[0]||{},r=f[1];if(typeof t=="object"){var a=k.extend({},q.def,t);f=j.filter(ob).unreel().filter(function(){var i=k(this),g=a.attr,d=g.src||i.attr("src"),D=g.width||
i.width();i=g.height||i.height();if(d&&D&&i)return true;else gc("Missing attributes: Image needs `src` and both dimensions to be set to Reel")});var aa=[];a.step&&(a.frame=a.step);a.steps&&(a.frames=a.steps);f.each(function(){var i=k(this),g=function(b,c){return i.reel(b,c)&&i.data(b)},d=function(b){return i.reel(b)},D={setup:function(){if(!(i.hasClass(C)&&i.parent().hasClass(nb))){g(ya,a);var b=i.attr(a.attr).attr("src"),c=g(Z,i.attr(Z)||i.attr(Z,C+"-"+ +new Date).attr(Z)),e=i.attr(na),h=k.extend({},
i.data()),l=g(ha,a.images||[]),n=a.stitched,o=a.loops,m=a.orbital,u=a.revolution,B=a.rows,w=a.footage,K={x:i.width(),y:i.height()},x=g(L,m&&w||B<=1&&l.length||a.frames),Na=B>1||m;g(Oa,Cb("x",u)||n/2||K.x*2);g(Hb,!Na?0:Cb("y",u)||(B>3?K.y:K.y/(5-B)));B=n?1:oa(x/w);c=Ia(c+a.suffix);u=i[0].className||W;w=k(U(pa),{id:c.substr(1),"class":u+F+nb+F+Ib+"0"});w=i.wrap(w.addClass(a.klass)).attr({"class":C});aa.push(cc(w)[0]);w=w.parent().bind(D.instance);g(pb,l.length?W:a.image||b.replace(q.re.image,"$1"+a.suffix+
".$2"));g(Pa,k());g(Jb,[]);g(Kb,a.spacing);g(X,null);g(z,null);g(Y,null);g(qa,null);g(qb,B);g(Lb,a.rowlock);g(Mb,a.framelock);g(H,K);g(Qa,1/(x-(o&&!n?0:1)));g(Nb,n-(o?0:K.x));g(rb,0);g(Ob,c);g(M,g(za,a.speed)<0);g(ia,0);g(ra,a.vertical);g(O,0);g(sa,La(1,!a.cw&&!n));g(Ra,{});g(Aa,false);g(Sa,g(sb,0));g(Ta,g(Ua,0));g(Ba,false);g(tb,false);g(ba,false);g(Pb,a.brake);g(ub,!!m);g(ca,a.tempo/(q.lazy?a.laziness:1));g(ta,-1);g(Va,-1);g(Wa,a.annotations||w.unbind(v(Wa))&&{});g(Qb,{src:b,classes:u,style:e||
W,data:h});a.steppable||w.unbind("up.steppable");a.indicator||w.unbind(".indicator");G(W,{width:K.x,height:K.y,overflow:vb,position:"relative"});G(ja+F+v(C),{display:Rb});P.bind(D.pool);i.trigger("setup")}},instance:{teardown:function(){var b=i.data(Qb);i.parent().unbind(D.instance);d(na).remove();d(Xa).unbind(J);dc(i.unbind(J).removeData().siblings().unbind(J).remove().end().attr({"class":b.classes,src:b.src,style:b.style}).data(b.data).unwrap());Ya();P.unbind(D.pool);da.unbind(ea);k(ma).unbind(J)},
setup:function(){function b(m){return i.trigger("down",[Ma(m).clientX,Ma(m).clientY,m])&&m.give}function c(m,u){return!u||i.trigger("wheel",[u,m])&&m.give}var e=d(H);d(L);i.attr(Z);var h=a.rows,l=a.stitched,n=i.parent(),o=g(Xa,k(a.area||n));h=a.rows||1;G(F+v(C),{MozUserSelect:Za,WebkitUserSelect:Za,MozTransform:"translateZ(0)"});if(ga){G(F+v(C),{WebkitBackgroundSize:d(ha).length?!l?s:A(l)+F+A(e.y):l&&A(l)+F+A((e.y+a.spacing)*h-a.spacing)||A((e.x+a.spacing)*a.footage-a.spacing)+F+A((e.y+a.spacing)*
d(qb)*h*(a.directional?2:1)-a.spacing)});o.bind(hc,b)}else{l=a.cursor;e=l==Sb?ic:l||jc;l=l==Sb?kc+F+"!important":s;G(W,{cursor:Ja(e)});G(v(wb),{cursor:"wait"});G(v($a)+ja+v($a)+" *",{cursor:Ja(l||e)},true);o.bind(a.wheelable?lc:null,c).bind(a.clickfree?mc:nc,b).bind(oc,function(){return false})}a.hint&&o.attr("title",a.hint);a.indicator&&n.append(Ca("x"));h>1&&a.indicator&&n.append(Ca("y"));a.monitor&&n.append(Tb=k(U(pa),{"class":Ub}))&&G(F+v(Ub),{position:ab,left:0,top:0})},preload:function(){function b(u,
B){setTimeout(function(){!Db(c)&&B.attr({src:gb(u)})},(o-n.length)*2)}d(H);var c=i.parent(),e=d(ha),h=!e.length;d(L);var l=q.preload[a.preload]||q.preload[q.def.preload],n=h?[d(pb)]:l(e.slice(0),a,d),o=n.length;g(O,h?0.5:0);e=k(U(pa));h=[];c.addClass(wb).append(ka());g(na,d(na)||k("<"+na+' type="text/css">'+G.rules.join("\n")+"</"+na+">").prependTo(xb));for(i.trigger("stop");n.length;){l=a.path+n.shift();var m=k(U(ob)).appendTo(e);m.bind("load error abort",function(u){u.type!="load"&&i.trigger(u.type);
return!Db(c)&&i.trigger("preloaded")&&false});b(l,m);h.push(l)}g(Pa,e);g(Jb,h)},preloaded:function(){var b=d(ha).length||1,c=g(O,Ka(d(O)+1,b));if(c===b){i.parent().removeClass(wb).unbind(O,D.instance.preloaded);i.trigger("loaded")}c===1&&i.trigger("frameChange",[s,d(X)])},loaded:function(){d(ha).length>1||i.css({backgroundImage:wa(a.path+d(pb))}).attr({src:Ja(Vb)});a.stitched&&i.attr({src:Ja(Vb)});d(tb)||g(ia,a.velocity||0)},opening:function(){if(!a.opening)return i.trigger("openingDone");g(ba,true);
g(yb,!d(za));var b=a.entry||a.speed,c=d(z),e=a.opening;g(z,c-b*e);g(ta,oa(e*$(ca)))},openingDone:function(){function b(e){return i.trigger("orient",[jb(e).alpha,jb(e).beta,jb(e).gamma,e])&&e.give}g(Da,false);g(ba,false);var c=fa+v(ba);P.unbind(c,D.pool[c]);ga&&a.orientable&&k(ma).bind(pc,b);if(a.delay>0)Wb=setTimeout(function(){i.trigger("play")},a.delay*1E3);else i.trigger("play")},play:function(b,c){c=c?g(za,c):d(za)*La(1,d(M));(b=a.duration)&&g(Va,oa(b*$(ca)));g(M,c<0);c=g(Da,!!c);g(yb,!c);zb()},
pause:function(){I()},stop:function(){var b=g(yb,true);g(Da,!b)},down:function(b,c,e,h){function l(o){return i.trigger("pan",[Ma(o).clientX,Ma(o).clientY,o])&&o.give}function n(o){return i.trigger("up",[o])&&o.give}if(!(h&&h.button!=qc&&!a.clickfree))if(a.draggable){g(Aa,d(X));b=a.clickfree;g(ia,0);bb=cb(d(Oa),c,e);ga||h&&h.preventDefault();I();Ya();Q=0;k(mb,da).addClass($a);ga?da.bind(rc,l).bind(sc+F+tc,n):(b?d(Xa):da).bind(uc,l).bind(b?vc:wc,n)}},up:function(){g(Aa,false);g(Ba,false);var b=a.throwable,
c=V(Ea[0]+Ea[1])/60;R=g(ia,!b?0:b===true?c:Ka(b,c))?1:0;I();Ya();k(mb,da).removeClass($a);(a.clickfree?d(Xa):da).unbind(ea)},pan:function(b,c,e,h){if(a.draggable&&Fa){Fa=false;I();b=a.rows;var l=a.orbital,n=ga&&!d(Ba)&&b<=1&&!l&&a.scrollable,o={x:c-bb.x,y:e-bb.y},m={x:V(o.x),y:V(o.y)};if(h&&n&&m.x<m.y)return h.give=true;if(m.x>0||m.y>0){h&&(h.give=false);Q=ib(m.x,m.y);bb={x:c,y:e};h=d(Oa);n=d(Ra);m=d(ra);if(!d(Mb)){var u=g(z,Xb(m?e-n.y:c-n.x,d(Sa),h,d(Ta),d(Ua),d(sa),m?e-n.y:c-n.x));g(Ba,d(Ba)||d(X)!=
d(Aa));(o=Yb(m?o.y:o.x||0))&&g(M,o<0)}if(l&&d(ub)){g(ra,V(e-n.y)>V(c-n.x));n=cb(h,c,e)}if(b>1&&!d(Lb)){d(H);b=d(Hb);l=d(sb);o=-l*b;g(qa,q.math.envelope(e-n.y,l,b,o,o+b,-1))}!(u%1)&&!a.loops&&cb(h,c,e)}}},wheel:function(b,c,e){if(c){y=true;b=oa(la.sqrt(V(c))/2);b=La(b,c>0);c=0.0833*d(Oa);cb(c);b&&g(M,b<0);g(ia,0);g(z,Xb(b,d(Sa),c,d(Ta),d(Ua),d(sa)));e&&e.preventDefault();e&&(e.give=false);I();i.trigger("up",[e])}},orient:function(b,c){if(!(!Fa||E)){S=true;b=c/360;fraction=g(z,+(a.stitched||a.cw?1-
b:b).toFixed(2));Fa=false}},fractionChange:function(b,c,e){if(c!==s)return Fb(g(z,c));b=1+db(e/d(Qa));c=a.rows>1;e=a.orbital;g(ub,!!e&&(b<=e||b>=a.footage-e+2));if(c)b+=(d(Y)-1)*d(L);g(X,b)},tierChange:function(b,c,e){if(c===s){b=g(Y,N(Ga(e,1,a.rows)));c=d(L);e=d(X)%c||c;g(X,e+b*c-c)}},rowChange:function(b,c,e){if(c!==s)return g(Y,c);g(qa,1/(a.rows-1)*(e-1))},frameChange:function(b,c,e){if(c!==s)return Fb(g(X,c));this.className=this.className.replace(q.re.frame_klass,Ib+e);var h=d(L);c=a.rows;b=a.path;
var l=e%h||h,n=!!d(O),o=((e-l)/h+1-1)/(c-1),m=N(Ga(o,1,c)),u=d(Y);n&&m===u?d(qa):g(qa,o);l=Ka((l-1)/(h-1),0.9999);o=u*h-h;h=N(Ga(l,o+1,o+h));o=V((d(z)||0)-l)<1/(d(L)-1);n&&h===e&&o?d(z):g(z,l);var B=a.footage;if(a.orbital&&d(ra)){e=a.inversed?B+1-e:e;e+=B}o=a.horizontal;var w=a.stitched;h=d(ha);var K=!h.length||a.stitched;m=d(Kb);var x=d(H);if(K){if(w){e=g(rb,N(Ga(l,0,d(Nb)))%w);c=c<=1?0:(x.y+m)*(c-u);e=[A(-e),A(-c)];(c=h.length>1&&h[u-1])&&i.css("backgroundImage").search(b+c)<0&&i.css({backgroundImage:wa(b+
c)})}else{b=e%B-1;b=b<0?B-1:b;e=db((e-0.1)/B);e+=c>1?0:d(M)?0:!a.directional?0:d(qb);e=e*((o?x.y:x.x)+m);b=b*((o?x.x:x.y)+m);e=h.length?[0,0]:o?[A(-b),A(-e)]:[A(-e),A(-b)]}i.css({backgroundPosition:e.join(F)})}else{e=h[e-1];n&&i.attr({src:gb(b+e)})}},"imageChange imagesChange":function(){ka.$.remove();d(Pa).empty().remove();i.parent().bind(O,D.instance.preloaded);P.bind(fa+v(eb),D.pool[fa+v(eb)]);i.trigger("preload")},"fractionChange.indicator":function(b,c,e){if(c===s&&a.indicator){c=d(H);b=a.indicator;
var h=a.orbital;c=h&&d(ra)?c.y:c.x;h=h?a.footage:a.images.length||d(L);h=oa(c/h);c-=h;e=N(Ga(e,0,c));e=!a.cw||a.stitched?e:c-e;Ca.$x.css(d(ra)?{left:0,top:A(e),bottom:Zb,width:b,height:h}:{bottom:0,left:A(e),top:Zb,width:h,height:b})}},"tierChange.indicator":function(b,c,e){if(c===s&&a.rows>1&&a.indicator){var h=d(H).y;b=a.indicator;c=oa(h/a.rows);h-=c;e=N(e*h);Ca.$y.css({left:0,top:e,width:b,height:c})}},"setup.annotations":function(){d(H);var b=i.parent();k.each(d(Wa),function(c,e){var h=typeof e.node==
kb?k(e.node):e.node||{};h=h.jquery?h:k(U(pa),h);h=h.attr({id:c}).addClass(Gb);var l=e.image?k(U(ob),e.image):k(),n=e.link?k(U("a"),e.link).click(function(){i.trigger("up.annotations",{target:n})}):k();G(Ia(c),{display:Za,position:ab},true);e.image||e.link&&h.append(n);e.link||e.image&&h.append(l);e.link&&e.image&&h.append(n.append(l));h.appendTo(b)})},"frameChange.annotations":function(b,c,e){var h=d(H),l=a.stitched,n=d(rb);d(O)&&c===s&&k.each(d(Wa),function(o,m){o=k(Ia(o));var u=m.start||1,B=m.end,
w=e-1,K=m.at?m.at[w]=="+":false;w=m.at?w:w-u+1;var x=typeof m.x!=hb?m.x:m.x[w],Na=typeof m.y!=hb?m.y:m.y[w];m=x!==s&&Na!==s&&(m.at?K:w>=0&&(!B||w<=B-u));if(l){u=x>l-h.x&&n>=0&&n<h.x;x=!(x<h.x&&n>l-h.x)?x:x+l;x=!u?x:x-l;x-=n}x={display:m?Rb:Za,left:A(x),top:A(Na)};o.css(x)})},"up.annotations":function(b,c){if(!(Q>10||y)){b=k(c.target);(b.is("a")?b:b.parents("a")).attr("href")&&(Q=10)}},"up.steppable":function(){Q||y||i.trigger(d(Ra).x-i.offset().left>0.5*d(H).x?"stepRight":"stepLeft")},"stepLeft stepRight":function(){I()},
stepLeft:function(){g(M,false);g(z,d(z)-d(Qa)*d(sa))},stepRight:function(){g(M,true);g(z,d(z)+d(Qa)*d(sa))},stepUp:function(){g(Y,d(Y)-1)},stepDown:function(){g(Y,d(Y)+1)},"setup.fu":function(){g(X,a.frame+(a.row-1)*d(L));i.trigger("preload")},"wheel.fu":function(){y=false},"clean.fu":function(){i.trigger("teardown")},"loaded.fu":function(){i.trigger("opening")}},pool:{"tick.reel.preload":function(){var b=d(H),c=xc(ka.$.css(yc)),e=d(ha).length||1,h=N(1/e*d(O)*b.x);ka.$.css({width:c+(h-c)/3+1});if(d(O)===
e&&c>b.x-1){ka.$.fadeOut(300,function(){ka.$.remove()});P.unbind(fa+v(eb),D.pool[fa+v(eb)])}},"tick.reel":function(b){var c=d(ia),e=$(ca),h=a.monitor;if(!(!q.intense&&zc())){if(R){c=c-d(Pb)/e*R;c=g(ia,c>0.1?c:(R=E=0))}h&&Tb.text(d(h));c&&R++;E&&E++;Yb(0);Fa=true;if(E&&!c)return ua(b);if(d(Aa))return ua(b,I());if(!(d(ta)>0)){if(!a.loops&&a.rebound){!E&&!(d(z)%1)?Ab++:(Ab=0);Ab>=a.rebound*1E3/e&&g(M,!d(M))}b=d(sa)*La(1,d(M));e=d(Va);c=(!d(Da)||S||!e?c:V(d(za))+c)/$(ca);g(z,d(z)-c*b);e=!a.duration?e:
e>0&&g(Va,e-1);!e&&d(Da)&&i.trigger("stop")}}},"tick.reel.opening":function(){if(d(ba)){var b=(a.entry||a.speed)/$(ca)*(a.cw?-1:1),c=g(ta,d(ta)-1);g(z,d(z)+b);c||i.trigger("openingDone")}}}},ua=function(b,c){return b.stopImmediatePropagation()||c},E,R=0,zb=function(){return E=0},I=function(){clearTimeout(Wb);P.unbind(fa+v(ba),D.pool[fa+v(ba)]);g(ta,0);g(tb,true);return E=-a.timeout*$(ca)},Q=0,y=false,S=false,Wb,Tb=k(),ka=function(){var b=a.preloader;G(F+v($b),{position:ab,left:0,top:d(H).y-b,height:b,
overflow:vb,backgroundColor:"#000"});return ka.$=k(U(pa),{"class":$b})},Ca=function(b){G(F+v(ac)+v(b),{position:ab,width:0,height:0,overflow:vb,backgroundColor:"#000"});return Ca["$"+b]=k(U(pa),{"class":ac+F+b})},G=function(b,c,e){function h(l){var n=[];k.each(l,function(o,m){n.push(o.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+A(m)+";")});return"{"+n.join(W)+"}"}e=e?W:d(Ob);b=b.replace(/^/,e).replace(ja,ja+e);return G.rules.push(b+h(c))&&c},zc=function(){var b=d(H).y,c=i[0].getBoundingClientRect();
return c.top<-b||c.bottom>b+k(ma).height()},Ab=0,bb={x:0,y:0},Yb=function(b){return Ea.push(b)&&Ea.shift()&&b},Ya=function(){return Ea=[0,0]},Ea=Ya(),Xb=a.graph||q.math[a.loops?"hatch":"envelope"],cb=function(b,c,e){var h=g(Sa,d(z));g(sb,d(qa));var l=a.loops;g(Ta,l?0:-h*b);g(Ua,l?b:b-h*b);return c!==s&&g(Ra,{x:c,y:e})||s},Fa=true,da=P;try{if(P[0]!=top.document)da=P.add(top.document)}catch(Cc){}top===self?k():function(b){k("iframe",da.last()).each(function(){try{if(k(this).contents().find(xb).html()==
k(xb).html())return(b=k(this))&&false}catch(c){}});return b}();G.rules=[];D.setup()});fb=fb||function i(){var g=+new Date,d=$(ca);if(!d)return fb=null;P.trigger(fa);q.cost=(+new Date+q.cost-g)/2;return fb=setTimeout(i,ib(4,1E3/d-q.cost))}();return k(aa)}else if(typeof t=="string")if(f.length==1){r=p[t];j.trigger("recall",[t,r]);return r}else{if(r!==s){q.normal[t]&&(r=q.normal[t](r,p));if(p[t]===s)p[t]=r;else if(p[t]!==r)j.trigger(t+"Change",[s,p[t]=r])}return j.trigger("store",[t,r])}},unreel:function(){return this.trigger("teardown")}},
re:{image:/^(.*)\.(jpg|jpeg|png|gif)\??.*$/i,ua:[/(msie|opera|firefox|chrome|safari)[ \/:]([\d.]+)/i,/(webkit)\/([\d.]+)/i,/(mozilla)\/([\d.]+)/i],array:/ *, */,touchy_agent:/iphone|ipod|ipad|android|fennec|rim tablet/i,lazy_agent:/\(iphone|ipod|android|fennec|blackberry/i,frame_klass:/frame-\d+/,sequence:/(^[^#|]*([#]+)[^#|]*)($|[|]([0-9]+)\.\.([0-9]+))($|[|]([0-9]+)$)/},cdn:"http://code.vostrel.net/",math:{envelope:function(f,j,p,t,r,a){return j+xa(t,r,-f*a)/p},hatch:function(f,j,p,t,r,a){f=(f<
t?r:0)+f%r;f=j+-f*a/p;return f-db(f)},interpolate:function(f,j,p){return j+f*(p-j)}},preload:{fidelity:function(f,j,p){function t(g,d,D){function ua(S){for(;!(S>=1&&S<=I);)S+=S<1?+I:-I;return i[D+S]||(i[D+S]=!!E.push(S))}if(!g.length)return[];var E=[],R=4*d,zb=j.frame,I=g.length;d=true;for(var Q=I/R,y=0;y<R;y++)ua(zb+N(y*Q));for(;Q>1;){y=0;R=E.length;Q/=2;for(d=!d;y<R;y++)ua(E[y]+(d?1:-1)*N(Q))}for(y=0;y<=I;y++)ua(y);for(y=0;y<E.length;y++)E[y]=g[E[y]-1];return E}var r=j.orbital,a=r?2:j.rows||1,aa=
r?j.footage:p(L);p=(j.row-1)*aa;r=[].concat(f);var i=new Array(f.length+1);f=a<2?[]:r.slice(p,p+aa);return t(f,1,p).concat(t(r,a,0))},linear:function(f){return f}},normal:{fraction:function(f,j){if(f===null)return f;return j[ya].loops?f-db(f):xa(0,1,f)},tier:function(f){if(f===null)return f;return xa(0,1,f)},row:function(f,j){if(f===null)return f;return N(xa(1,j[ya].rows,f))},frame:function(f,j){if(f===null)return f;var p=j[ya];j=j[L]*(p.orbital?2:p.rows||1);f=N(p.loops?f%j||j:xa(1,j,f));return f<
0?f+j:f},images:function(f,j){var p=q.re.sequence.exec(f);return!p?f:q.sequence(p,j[ya])}},sequence:function(f,j){if(f.length<=1)return j.images;var p=[],t=j.orbital,r=f[1],a=f[2],aa=+f[4]||1,i=t?2:j.rows||1;j=t?j.footage:j.stitched?1:j.frames;i=+(f[5]||i*j)-aa;f=+f[7]||1;for(j=0;j<=i;){p.push(r.replace(a,fc(aa+j+W,a.length,"0")));j+=f}return p},instances:k(),leader:$,cost:0},P=k(T);T=navigator.userAgent;var Ha=q.re.ua[0].exec(T)||q.re.ua[1].exec(T)||q.re.ua[2].exec(T),bc=+Ha[2].split(".").slice(0,
2).join(".");Ha=Ha[1]=="MSIE";var Ac=!(Ha&&bc<8),fb,C="reel",nb=C+"-overlay",ac=C+"-indicator",$b=C+"-preloader",Ub=C+"-monitor",Gb=C+"-annotation",$a=C+"-panning",wb=C+"-loading",Ib="frame-",la=Math,N=la.round,db=la.floor,oa=la.ceil,Ka=la.min,ib=la.max,V=la.abs,xc=parseInt,Ga=q.math.interpolate,Wa="annotations",Xa="area",Zb="auto",Qb="backup",M="backwards",Qa="bit",Pb="brake",Pa="cache",Jb=Pa+"d",ub="center",Aa="clicked",Ra="clicked_location",Sa="clicked_on",sb="clicked_tier",sa="cwish",H="dimensions",
z="fraction",X="frame",Mb="framelock",L="frames",Ua="hi",vb="hidden",pb="image",ha="images",ba="opening",ta=ba+"_ticks",Ta="lo",ya="options",Da="playing",O="preloaded",Ba="reeling",tb="reeled",Oa="revolution",Hb="revolution_y",Y="row",Lb="rowlock",qb="rows",Kb="spacing",za="speed",Ob="stage",rb="stitched_shift",Nb="stitched_travel",yb="stopped",na="style",ca="tempo",Va="ticks",qa="tier",ia="velocity",ra="vertical",J=v(C),ea=v("pan")+J,oc="dragstart"+J,nc="mousedown"+J,mc="mouseenter"+J,vc="mouseleave"+
ea,uc="mousemove"+ea,wc="mouseup"+ea,lc="mousewheel"+J,fa="tick"+J,tc="touchcancel"+ea,sc="touchend"+ea,hc="touchstart"+J,rc="touchmove"+ea,pc="deviceorientation"+J,W="",F=" ",ja=",",ab="absolute",Rb="block",va="@CDN@",pa="div",Sb="hand",xb="head",mb="html",Z="id",ob="img",Bb="jquery."+C,Za="none",hb="object",eb="preload",kb="string",yc="width",Vb=Ac?ec("CAAIAIAAAAAAAAAAACH5BAEAAAAALAAAAAAIAAgAAAIHhI+py+1dAAA7"):va+"blank.gif",jc=wa(va+Bb+".cur")+ja+"move",ic=wa(va+Bb+"-drag.cur")+ja+"move",kc=wa(va+
Bb+"-drag-down.cur")+ja+"move",ga=q.touchy=q.re.touchy_agent.test(T);q.lazy=q.re.lazy_agent.test(T);var qc=ga?s:Ha&&bc<9?1:0,Bc=k.cleanData;k.cleanData=function(f){Bc(k(f).each(function(){k(this).triggerHandler("clean")}))};k.extend(k.fn,q.fn)&&k(q.scan);return q}}(jQuery,window,document)});
