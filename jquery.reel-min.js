/*
 Copyright (c) 2009-2013 Petr Vostrel (http://petr.vostrel.cz/)
 Licensed under the MIT License (LICENSE.txt).

 jQuery Reel
 http://reel360.org
 Version: 1.3-devel
 Updated: 2013-10-10

 Requires jQuery 1.5 or higher
*/
(function(k){var R=typeof define=="function"&&define.amd&&(define(["jquery"],k)||true),Y=!R&&typeof module=="object"&&typeof module.exports=="object"&&(module.exports=k);!R&&!Y&&k()})(function(){return jQuery.reel||function(k,R,Y,t){function vc(f){return o.instances.push(f[0])&&f}function wc(f){return(o.instances=o.instances.not(Ba(f.attr(ia))))&&f}function Z(f){return o.instances.first().data(f)}function xc(f){return"data:image/gif;base64,R0lGODlh"+f}function V(f){return"<"+f+"/>"}function x(f){return"."+
(f||"")}function Ua(f){return f.replace(Ca,o.cdn)}function Da(f){return"url('"+tb(f)+"')"}function Wb(f,j){return typeof j==ub?j[f]:j}function Ea(f,j,p){return vb(f,Fa(j,p))}function Ga(f,j){return H(f)*(j?-1:1)}function Va(f){return f.touch||f.originalEvent.touches&&f.originalEvent.touches[0]||f}function wb(f){return f.originalEvent}function A(f){return f===t?0:typeof f==xb?f:f+"px"}function Ba(f){return"#"+f}function yc(f,j,p){for(;f.length<j;)f=p+f;return f}function tb(f){return encodeURI(decodeURI(f))}
function yb(f){return o.re.array.exec(f)?f.split(o.re.array):f}function Xb(f){return!f.parents(zb).length}function Yb(f){return typeof f==xb?f:k.each(f,function(j,p){f[j]=p?+p:t})}function zc(f){try{console.error(f)}catch(j){}}if(!(!k||+k().jquery.replace(".",S).substr(0,2)<15)){var o=k.reel={version:"1.3rc",def:{frame:1,frames:36,loops:true,clickfree:false,draggable:true,scrollable:true,steppable:true,throwable:true,wheelable:true,orientable:false,cw:false,revolution:t,stitched:0,directional:false,
row:1,rows:0,rowlock:false,framelock:false,orbital:0,vertical:false,inversed:false,footage:6,spacing:0,horizontal:true,suffix:"-reel",image:t,images:"",path:"",preload:"fidelity",shy:false,speed:0,delay:0,timeout:2,duration:t,rebound:0.5,entry:t,opening:0,brake:0.23,velocity:0,tempo:36,laziness:6,cursor:t,hint:"",indicator:0,klass:"",preloader:2,area:t,attr:{},annotations:t,responsive:false,graph:t,monitor:t},scan:function(){return k(x(B)+":not("+x(Ab)+" >)").each(function(f,j){f=k(j);j=f.data();
j.images=yb(j.images);var p={};k(x(Zb)+"[data-for="+f.attr(ia)+"]").each(function(u,r){u=k(r);r=u.data();r.x=Yb(yb(r.x));r.y=Yb(yb(r.y));var g=u.attr(ia);r.node=u.removeData();p[g]=r});j.annotations=p;f.removeData().reel(j)})},fn:{reel:function(){var f=arguments,j=k(this),p=j.data(),u=f[0]||{},r=f[1];if(typeof u=="object"){var g=k.extend({},o.def,u),N=[];j.filter(Bb).unreel().filter(function(){var i=k(this),d=g.attr,a=d.src||i.attr("src"),I=d.width||i.width();i=d.height||i.height();if(a&&I&&i)return true;
else zc("Missing attributes: Image needs `src` and both dimensions to be set to Reel")}).each(function(){var i=k(this),d=function(b,e){return i.reel(b,e)&&i.data(b)},a=function(b){return i.reel(b)},I={setup:function(){if(!(i.hasClass(B)&&i.parent().hasClass(Ab))){d(Ha,g);var b=i.attr(g.attr).attr("src"),e=d(ia,i.attr(ia)||i.attr(ia,B+"-"+ +new Date).attr(ia)),c=k.extend({},i.data()),h=d($,g.images||[]),q=d(W,g.stitched),m=!h.length||q;m=d(Wa,g.responsive&&(Ac?true:!m));var n=d($b,{}),l=g.loops,w=
g.orbital,s=g.revolution,y=g.rows,D=d(qa,Fa(g.footage,g.frames));d(Xa,g.spacing);var K=d(J,i.width()),ja=d(aa,i.height()),Bc=d(Ia,g.shy),ac=d(O,w&&D||y<=1&&h.length||g.frames),Cc=y>1||w;d(Ja,Wb("x",s)||q/2||K*2);d(Cb,!Cc?0:Wb("y",s)||(y>3?ja:ja/(5-y)));y=q?1:ka(ac/D);d(Db,q-(l?0:K));d(Ya,0);e=Ba(e+g.suffix);s=i[0].className||S;D=k(V(ra),{id:e.substr(1),"class":s+C+Ab+C+bc+"0"});D=i.wrap(D.addClass(g.klass)).attr({"class":B});N.push(vc(D)[0]);D=D.parent().bind(I.instance);d(Eb,h.length?S:g.image||
b.replace(o.re.image,"$1"+g.suffix+".$2"));d(Za,k(V(ra)));d(cc,[]);d(L,null);d(z,null);d(X,null);d(sa,null);d(Fb,y);d(dc,g.rowlock);d(ec,g.framelock);d($a,d(Ka,d(ab,0)));d(bb,1/(ac-(l&&!q?0:1)));d(fc,e);d(P,d(ta,g.speed)<0);d(La,false);d(la,0);d(ua,g.vertical);d(ba,0);d(va,Ga(1,!g.cw&&!q));d(cb,{});d(ca,false);d(db,d(Gb,0));d(eb,d(fb,0));d(Ma,false);d(Hb,false);d(da,false);d(gc,g.brake);d(Ib,!!w);d(ea,g.tempo/(o.lazy?g.laziness:1));d(wa,-1);d(gb,-1);d(Na,g.annotations||D.unbind(x(Na))&&{});d(Jb,1);
d(hc,{src:b,classes:s,data:c,style:i.attr(xa)||S});g.steppable||D.unbind("up.steppable");g.indicator||D.unbind(".indicator");E(S,{overflow:Kb,position:"relative"});m||E(S,{width:K,height:ja});m&&k.each(Dc,function(Yc,ic){n[ic]=a(ic)});E(ma+C+x(B),{display:Lb});fa.bind(I.pool);i.trigger(Bc?"prepare":"setup")}},instance:{teardown:function(){var b=i.data(hc);i.parent().unbind(I.instance);if(a(Ia))i.unbind(hb,ga);else a(xa).remove()&&a(ib).unbind(F);a(Za).empty();clearTimeout(Mb);clearTimeout(Nb);k(R).unbind(jc,
kc);wc(i.unbind(F).removeData().siblings().unbind(F).remove().end().attr({"class":b.classes,src:b.src,style:b.style}).data(b.data).unwrap());jb();fa.unbind(I.pool);na.unbind(ha);k(R).unbind(F)},setup:function(){function b(l){return i.trigger("down",[Va(l).clientX,Va(l).clientY,l])&&l.give}function e(l,w){return!w||i.trigger("wheel",[w,l])&&l.give}var c=i.parent().append(ya()),h=d(ib,k(g.area||c)),q=g.rows>1;E(C+x(B),{MozUserSelect:kb,WebkitUserSelect:kb,MozTransform:"translateZ(0)"});i.unbind(hb,
ga);h.bind(Ec,b).bind(g.clickfree?Fc:Gc,b).bind(g.wheelable?Hc:null,e).bind(Ic,function(){return false});if(!Oa){var m=g.cursor,n=m==lc?Jc:m||Kc;m=m==lc?Lc+C+"!important":t;E(S,{cursor:Ua(n)});E(x(Ob),{cursor:"wait"});E(x(lb)+ma+x(lb)+" *",{cursor:Ua(m||n)},true)}if(a(Wa)){E(C+x(B),{width:"100%",height:Pb});k(R).bind(jc,kc)}g.hint&&h.attr("title",g.hint);g.indicator&&c.append(Pa("x"));q&&g.indicator&&c.append(Pa("y"));g.monitor&&c.append(mc=k(V(ra),{"class":nc}))&&E(C+x(nc),{position:mb,left:0,top:0})},
preload:function(){function b(w,s){setTimeout(function(){!Xb(e)&&s.attr({src:tb(w)})},(n-m.length)*2)}var e=i.parent(),c=a($),h=!c.length,q=o.preload[g.preload]||o.preload[o.def.preload],m=h?[a(Eb)]:q(c.slice(0),g,a),n=m.length;d(ba,h?0.5:0);c=a(Za).empty();h=[];e.addClass(Ob);d(xa,a(xa)||k("<"+xa+' type="text/css">'+E.rules.join("\n")+"</"+xa+">").prependTo(Qb));d(La,true);i.trigger("stop");g.responsive&&Rb();for(i.trigger("resize",true);m.length;){q=o.substitute(g.path+m.shift(),a);var l=k(V(Bb)).appendTo(c);
l.bind("load error abort",function(w){w.type!="load"&&i.trigger(w.type);return!Xb(e)&&i.trigger("preloaded")&&false});b(q,l);h.push(q)}d(cc,h);d(Ia,false)},preloaded:function(){var b=a($).length||1,e=d(ba,Fa(a(ba)+1,b));if(e===b){i.parent().removeClass(Ob);i.trigger("loaded")}e===1&&i.trigger("frameChange",[t,a(L)])},loaded:function(){a($).length>1||i.css({backgroundImage:Da(o.substitute(g.path+a(Eb),a))}).attr({src:Ua(oc)});a(W)&&i.attr({src:Ua(oc)});a(Hb)||d(la,g.velocity||0);d(La,false);oa=true},
prepare:function(){i.css("display",Lb).one(hb,ga)},opening:function(){if(!g.opening)return i.trigger("openingDone");d(da,true);d(Sb,!a(ta));var b=g.entry||g.speed,e=a(z),c=g.opening;d(z,e-b*c);d(wa,ka(c*Z(ea)))},openingDone:function(){function b(c){return i.trigger("orient",[wb(c).alpha,wb(c).beta,wb(c).gamma,c])&&c.give}d(Qa,false);d(da,false);var e=nb+x(da);fa.unbind(e,I.pool[e]);Oa&&g.orientable&&k(R).bind(Mc,b);if(g.delay>0)Mb=setTimeout(function(){i.trigger("play")},g.delay*1E3);else i.trigger("play")},
play:function(b,e){e=e?d(ta,e):a(ta)*Ga(1,a(P));(b=g.duration)&&d(gb,ka(b*Z(ea)));d(P,e<0);e=d(Qa,!!e);d(Sb,!e);za()},reach:function(b,e,c){if(e!=a(L)){b=a(O);d(X,ka(e/b));var h=d($a,a(L));e=d(Ka,e);e=d(ab,o.math.distance(h,e,b));c=H(c||a(ta))*Ga(1,e<0);i.trigger("play",c)}},pause:function(){v()},stop:function(){var b=d(Sb,true);d(Qa,!b)},down:function(b,e,c,h){function q(l){return i.trigger("pan",[Va(l).clientX,Va(l).clientY,l])&&l.give}function m(l){return i.trigger("up",[l])&&l.give}if(!(h&&h.button!=
Nc&&!g.clickfree))if(g.draggable){d(ca,a(L));b=g.clickfree;d(la,0);var n=b?a(ib):na;ob=pb(a(Ja),e,c);Oa||h&&h.preventDefault();v();jb();G=0;k(zb,na).addClass(lb);n.bind(Oc+C+Pc,q).bind(Qc+C+Rc,m).bind(b?Sc:Tc,m)}},up:function(){d(ca,false);d(Ma,false);var b=g.throwable,e=H(Ra[0]+Ra[1])/60;Q=d(la,!b?0:b===true?e:Fa(b,e))?1:0;v();jb();k(zb,na).removeClass(lb);(g.clickfree?a(ib):na).unbind(ha)},pan:function(b,e,c,h){if(g.draggable&&Sa){Sa=false;v();b=g.rows;var q=g.orbital,m=Oa&&!a(Ma)&&b<=1&&!q&&g.scrollable,
n={x:e-ob.x,y:c-ob.y},l={x:H(n.x),y:H(n.y)};if(h&&m&&l.x<l.y)return h.give=true;if(l.x>0||l.y>0){h&&(h.give=false);G=vb(l.x,l.y);ob={x:e,y:c};h=a(Ja);m=a(cb);l=a(ua);if(!a(ec)){var w=d(z,pc(l?c-m.y:e-m.x,a(db),h,a(eb),a(fb),a(va),l?c-m.y:e-m.x));d(Ma,a(Ma)||a(L)!=a(ca));(n=qc(l?n.y:n.x||0))&&d(P,n<0)}if(q&&a(Ib)){d(ua,H(c-m.y)>H(e-m.x));m=pb(h,e,c)}if(b>1&&!a(dc)){b=a(Cb);q=a(Gb);n=-q*b;d(sa,o.math.envelope(c-m.y,q,b,n,n+b,-1))}!(w%1)&&!g.loops&&pb(h,e,c)}}},wheel:function(b,e,c){if(e){qb=true;b=
ka(pa.sqrt(H(e))/2);b=Ga(b,e>0);e=0.0833*a(Ja);pb(e);b&&d(P,b<0);d(la,0);d(z,pc(b,a(db),e,a(eb),a(fb),a(va)));c&&c.preventDefault();c&&(c.give=false);v();i.trigger("up",[c])}},orient:function(b,e){if(!(!Sa||T)){rc=true;b=e/360;fraction=d(z,+(g.stitched||g.cw?1-b:b).toFixed(2));Sa=false}},fractionChange:function(b,e,c){if(e===t){b=1+rb(c/a(bb));e=g.rows>1;c=g.orbital;d(Ib,!!c&&(b<=c||b>=a(qa)-c+2));if(e)b+=(a(X)-1)*a(O);d(L,b)}},tierChange:function(b,e,c){if(e===t){b=d(X,M(Ta(c,1,g.rows)));e=a(O);
c=a(L)%e||e;d(L,c+b*e-e)}},rowChange:function(b,e,c){e===t&&d(sa,1/(g.rows-1)*(c-1))},frameChange:function(b,e,c){if(e===t){this.className=this.className.replace(o.re.frame_klass,bc+c);var h=a(O);e=g.rows;b=g.path;var q=c%h||h,m=!!a(ba),n=((c-q)/h+1-1)/(e-1),l=M(Ta(n,1,e)),w=a(X);m&&l===w?a(sa):d(sa,n);q=Fa((q-1)/(h-1),0.9999);n=w*h-h;h=M(Ta(q,n+1,n+h));n=H((a(z)||0)-q)<1/(a(O)-1);m&&h===c&&n?a(z):d(z,q);var s=a(qa);if(g.orbital&&a(ua)){c=g.inversed?s+1-c:c;c+=s}n=g.horizontal;var y=a(W);h=a($);var D=
!h.length||y;l=a(Xa);var K=a(J),ja=a(aa);if(D){if(y){c=d(Ya,M(Ta(q,0,a(Db)))%y);e=e<=1?0:(ja+l)*(e-w);c=[A(-c),A(-e)];e=h.length>1&&h[w-1];b=o.substitute(b+e,a);e&&i.css("backgroundImage").search(b)<0&&i.css({backgroundImage:Da(b)})}else{b=c%s-1;b=b<0?s-1:b;c=rb((c-0.1)/s);c+=e>1?0:a(P)?0:!g.directional?0:a(Fb);c=c*((n?ja:K)+l);b=b*((n?K:ja)+l);c=h.length?[0,0]:n?[A(-b),A(-c)]:[A(-c),A(-b)]}i.css({backgroundPosition:c.join(C)})}else{c=h[c-1];a(Wa)&&Rb();m&&i.attr({src:tb(o.substitute(b+c,a))})}}},
"frameChange.reach":function(b,e,c){if(!(!a(Ka)||e!==t)){b=o.math.distance(a($a),c,a(O));if(H(b)>=H(a(ab))){d(L,d(Ka));d(Ka,d(ab,d($a,0)));i.trigger("stop")}}},"imageChange imagesChange":function(){i.trigger("preload")},"fractionChange.indicator":function(b,e,c){if(g.indicator&&e===t){b=g.indicator;var h=g.orbital;e=h&&a(ua)?a(aa):a(J);h=h?a(qa):g.images.length||a(O);h=ka(e/h);e-=h;c=M(Ta(c,0,e));c=!g.cw||a(W)?c:e-c;Pa.$x.css(a(ua)?{left:0,top:A(c),bottom:Pb,width:b,height:h}:{bottom:0,left:A(c),
top:Pb,width:h,height:b})}},"tierChange.indicator":function(b,e,c){if(g.rows>1&&g.indicator&&e===t){var h=a(aa);b=g.indicator;e=ka(h/g.rows);h-=e;c=M(c*h);Pa.$y.css({left:0,top:c,width:b,height:e})}},"setup.annotations":function(){var b=i.parent();k.each(a(Na),function(e,c){var h=typeof c.node==xb?k(c.node):c.node||{};h=h.jquery?h:k(V(ra),h);h=h.attr({id:e}).addClass(Zb);var q=c.image?k(V(Bb),c.image):k(),m=c.link?k(V("a"),c.link).click(function(){i.trigger("up.annotations",{target:m})}):k();E(Ba(e),
{display:kb,position:mb},true);c.image||c.link&&h.append(m);c.link||c.image&&h.append(q);c.link&&c.image&&h.append(m.append(q));h.appendTo(b)})},"prepare.annotations":function(){k.each(a(Na),function(b){k(Ba(b)).hide()})},"frameChange.annotations":function(b,e){if(!(!a(ba)||e!==t)){var c=a(J),h=a(W),q=a(Ya);k.each(a(Na),function(m,n){m=k(Ba(m));var l=n.start||1,w=n.end,s=s||a(L),y=s-1,D=n.at?n.at[y]=="+":false;y=n.at?y:y-l+1;s=typeof n.x!=ub?n.x:n.x[y];var K=typeof n.y!=ub?n.y:n.y[y];n=s!==t&&K!==
t&&(n.at?D:y>=0&&(!w||y<=w-l));if(h){l=s>h-c&&q>=0&&q<c;s=!(s<c&&q>h-c)?s:s+h;s=!l?s:s-h;s-=q}if(a(Wa)){l=a(Jb);s=s&&s*l;K=K&&K*l}s={display:n?Lb:kb,left:A(s),top:A(K)};m.css(s)})}},"up.annotations":function(b,e){if(!(G>10||qb)){b=k(e.target);(b.is("a")?b:b.parents("a")).attr("href")&&(G=10)}},"up.steppable":function(){G||qb||i.trigger(a(cb).x-i.offset().left>0.5*a(J)?"stepRight":"stepLeft")},"stepLeft stepRight":function(){v()},stepLeft:function(){d(P,false);d(z,a(z)-a(bb)*a(va))},stepRight:function(){d(P,
true);d(z,a(z)+a(bb)*a(va))},stepUp:function(){d(X,a(X)-1)},stepDown:function(){d(X,a(X)+1)},resize:function(b,e){if(!(a(La)&&!e)){var c=a(W),h=a(Xa);b=a(aa);var q=!a($).length||c,m=g.rows||1;c=a($).length?!c?t:A(c)+C+A(b):c&&A(c)+C+A((b+h)*m-h)||A((a(J)+h)*a(qa)-h)+C+A((b+h)*a(Fb)*m*(g.directional?2:1)-h);i.css({height:q?A(b):null,backgroundSize:c});e||i.trigger("imagesChange")}},"setup.fu":function(){d(L,g.frame+(g.row-1)*a(O));i.trigger("preload")},"wheel.fu":function(){qb=false},"clean.fu":function(){i.trigger("teardown")},
"loaded.fu":function(){i.trigger("opening")}},pool:{"tick.reel.preload":function(){if(!(!(oa||a(La))||a(Ia))){var b=a(J),e=Uc(ya.$.css(J)),c=a($).length||1,h=M(1/c*a(ba)*b);ya.$.css({width:e+(h-e)/3+1});if(a(ba)===c&&e>b-1){oa=false;ya.$.fadeOut(300,function(){ya.$.css({opacity:1,width:0})})}}},"tick.reel":function(b){if(!a(Ia)){var e=a(la),c=Z(ea),h=g.monitor;if(!(!o.intense&&Vc())){if(Q){e=e-a(gc)/c*Q;e=d(la,e>0.1?e:(Q=T=0))}h&&mc.text(a(h));e&&Q++;T&&T++;qc(0);Sa=true;if(T&&!e)return U(b);if(a(ca))return U(b,
v());if(!(a(wa)>0)){if(!g.loops&&g.rebound){!T&&!(a(z)%1)?Tb++:(Tb=0);Tb>=g.rebound*1E3/c&&d(P,!a(P))}b=a(va)*Ga(1,a(P));c=a(gb);e=(!a(Qa)||rc||!c?e:H(a(ta))+e)/Z(ea);d(z,a(z)-e*b);c=!g.duration?c:c>0&&d(gb,c-1);!c&&a(Qa)&&i.trigger("stop")}}}},"tick.reel.opening":function(){if(a(da)){var b=(g.entry||g.speed)/Z(ea)*(g.cw?-1:1),e=d(wa,a(wa)-1);d(z,a(z)+b);e||i.trigger("openingDone")}}}},oa=false,U=function(b,e){return b.stopImmediatePropagation()||e},ga=function(){i.trigger("setup")},T,Q=0,za=function(){return T=
0},v=function(){clearTimeout(Mb);fa.unbind(nb+x(da),I.pool[nb+x(da)]);d(wa,0);d(Hb,true);return T=-g.timeout*Z(ea)},G=0,qb=false,rc=false,mc=k(),ya=function(){E(C+x(sc),{position:mb,left:0,bottom:0,height:g.preloader,overflow:Kb,backgroundColor:"#000"});return ya.$=k(V(ra),{"class":sc})},Pa=function(b){E(C+x(tc)+x(b),{position:mb,width:0,height:0,overflow:Kb,backgroundColor:"#000"});return Pa["$"+b]=k(V(ra),{"class":tc+C+b})},E=function(b,e,c){function h(q){var m=[];k.each(q,function(n,l){m.push(n.replace(/([A-Z])/g,
"-$1").toLowerCase()+":"+A(l)+";")});return"{"+m.join(S)+"}"}c=c?S:a(fc);b=b.replace(/^/,c).replace(ma,ma+c);return E.rules.push(b+h(e))&&e},Vc=function(){var b=a(aa),e=a(J),c=i[0].getBoundingClientRect();return c.top<-b||c.left<-e||c.right>e+k(R).width()||c.bottom>b+k(R).height()},Tb=0,ob={x:0,y:0},qc=function(b){return Ra.push(b)&&Ra.shift()&&b},jb=function(){return Ra=[0,0]},Ra=jb(),pc=g.graph||o.math[g.loops?"hatch":"envelope"],kc=function(){clearTimeout(Nb);Nb=setTimeout(Rb,o.resize_gauge)},
Rb=function(){if(i.width()!=a(J)){var b=a($b),e=d(Jb,i.width()/b.width);k.each(b,function(c,h){d(c,M(h*e))});i.trigger("resize")}},Mb,Nb,pb=function(b,e,c){var h=d(db,a(z));d(Gb,a(sa));var q=g.loops;d(eb,q?0:-h*b);d(fb,q?b:b-h*b);return e!==t&&d(cb,{x:e,y:c})||t},Sa=true,na=fa;try{if(fa[0]!=top.document)na=fa.add(top.document)}catch(Zc){}top===self?k():function(b){k("iframe",na.last()).each(function(){try{if(k(this).contents().find(Qb).html()==k(Qb).html())return(b=k(this))&&false}catch(e){}});return b}();
E.rules=[];I.setup()});sb=sb||function i(){var d=+new Date,a=Z(ea);if(!a)return sb=null;fa.trigger(nb);o.cost=(+new Date+o.cost-d)/2;return sb=setTimeout(i,vb(4,1E3/a-o.cost))}();return k(N)}else if(typeof u=="string")if(f.length==1)return p[u];else{if(r!==t){o.normal[u]&&(r=o.normal[u](r,p));if(p[u]===t)p[u]=r;else if(p[u]!==r)j.trigger(u+"Change",[t,p[u]=r])}return j}},unreel:function(){return this.trigger("teardown")}},re:{image:/^(.*)\.(jpg|jpeg|png|gif)\??.*$/i,ua:[/(msie|opera|firefox|chrome|safari)[ \/:]([\d.]+)/i,
/(webkit)\/([\d.]+)/i,/(mozilla)\/([\d.]+)/i],array:/ *, */,lazy_agent:/\(iphone|ipod|android|fennec|blackberry/i,frame_klass:/frame-\d+/,substitution:/(@([A-Z]))/g,sequence:/(^[^#|]*([#]+)[^#|]*)($|[|]([0-9]+)\.\.([0-9]+))($|[|]([0-9]+)$)/},cdn:"http://code.vostrel.net/",math:{envelope:function(f,j,p,u,r,g){return j+Ea(u,r,-f*g)/p},hatch:function(f,j,p,u,r,g){f=(f<u?r:0)+f%r;f=j+-f*g/p;return f-rb(f)},interpolate:function(f,j,p){return j+f*(p-j)},distance:function(f,j,p){var u=p/2;f=j-f;return f<
-u?f+p:f>u?f-p:f}},preload:{fidelity:function(f,j,p){function u(d,a,I){function oa(G){for(;!(G>=1&&G<=Q);)G+=G<1?+Q:-Q;return i[I+G]||(i[I+G]=!!U.push(G))}if(!d.length)return[];var U=[],ga=4*a,T=j.frame,Q=d.length;a=true;for(var za=Q/ga,v=0;v<ga;v++)oa(T+M(v*za));for(;za>1;){v=0;ga=U.length;za/=2;for(a=!a;v<ga;v++)oa(U[v]+(a?1:-1)*M(za))}for(v=0;v<=Q;v++)oa(v);for(v=0;v<U.length;v++)U[v]=d[U[v]-1];return U}var r=j.orbital,g=r?2:j.rows||1,N=r?p(qa):p(O);p=(j.row-1)*N;r=[].concat(f);var i=new Array(f.length+
1);f=g<2?[]:r.slice(p,p+N);return u(f,1,p).concat(u(r,g,0))},linear:function(f){return f}},substitute:function(f,j){return f.replace(o.re.substitution,function(p,u,r){return typeof o.substitutes[r]=="function"?o.substitutes[r](j):uc[r]?j(uc[r]):u})},substitutes:{T:function(){return+new Date}},normal:{fraction:function(f,j){if(f===null)return f;return j[Ha].loops?f-rb(f):Ea(0,1,f)},tier:function(f){if(f===null)return f;return Ea(0,1,f)},row:function(f,j){if(f===null)return f;return M(Ea(1,j[Ha].rows,
f))},frame:function(f,j){if(f===null)return f;var p=j[Ha];j=j[O]*(p.orbital?2:p.rows||1);f=M(p.loops?f%j||j:Ea(1,j,f));return f<0?f+j:f},images:function(f,j){var p=o.re.sequence.exec(f);return!p?f:o.sequence(p,j[Ha])}},sequence:function(f,j){if(f.length<=1)return j.images;var p=[],u=j.orbital,r=f[1],g=f[2],N=f[4];N=N!==t?+N:1;var i=u?2:j.rows||1;j=u?j.footage:j.stitched?1:j.frames;i=+(f[5]||i*j)-N;f=+f[7]||1;for(j=0;j<=i;){p.push(r.replace(g,yc(N+j+S,g.length,"0")));j+=f}return p},instances:k(),leader:Z,
resize_gauge:300,cost:0},fa=k(Y);Y=navigator.userAgent;var Aa=o.re.ua[0].exec(Y)||o.re.ua[1].exec(Y)||o.re.ua[2].exec(Y),Ub=+Aa[2].split(".").slice(0,2).join(".");Aa=Aa[1]=="MSIE";var Wc=!(Aa&&Ub<8),Ac=!(Aa&&Ub<9),sb,B="reel",Ab=B+"-overlay",tc=B+"-indicator",sc=B+"-preloader",nc=B+"-monitor",Zb=B+"-annotation",lb=B+"-panning",Ob=B+"-loading",bc="frame-",pa=Math,M=pa.round,rb=pa.floor,ka=pa.ceil,Fa=pa.min,vb=pa.max,H=pa.abs,Uc=parseInt,Ta=o.math.interpolate,Na="annotations",ib="area",Pb="auto",hc=
"backup",P="backwards",bb="bit",gc="brake",Za="cache",cc=Za+"d",Ib="center",hb="click",ca=hb+"ed",cb=ca+"_location",db=ca+"_on",Gb=ca+"_tier",va="cwish",$a="departure",Ka="destination",ab="distance",qa="footage",z="fraction",L="frame",ec="framelock",O="frames",aa="height",fb="hi",Kb="hidden",Eb="image",$="images",La="loading",da="opening",wa=da+"_ticks",eb="lo",Ha="options",Qa="playing",ba="preloaded",Jb="ratio",Ma="reeling",Hb="reeled",Wa="responsive",Ja="revolution",Cb="revolution_y",X="row",dc=
"rowlock",Fb="rows",Ia="shy",Xa="spacing",ta="speed",fc="stage",W="stitched",Ya=W+"_shift",Db=W+"_travel",Sb="stopped",xa="style",ea="tempo",gb="ticks",sa="tier",$b="truescale",la="velocity",ua="vertical",J="width",F=x(B),ha=x("pan")+F,Ic="dragstart"+F,Gc="mousedown"+F,Fc="mouseenter"+F,Sc="mouseleave"+ha,Pc="mousemove"+ha,Tc="mouseup"+ha,Hc="mousewheel"+F,nb="tick"+F,Rc="touchcancel"+ha,Qc="touchend"+ha,Ec="touchstart"+F,Oc="touchmove"+ha,Mc="deviceorientation"+F,jc="resize"+F,S="",C=" ",ma=",",
mb="absolute",Lb="block",Ca="@CDN@",ra="div",lc="hand",Qb="head",zb="html",ia="id",Bb="img",Vb="jquery."+B,kb="none",ub="object",xb="string",Dc=[J,aa,Xa,Ja,Cb,W,Ya,Db],uc={W:J,H:aa},oc=Wc?xc("CAAIAIAAAAAAAAAAACH5BAEAAAAALAAAAAAIAAgAAAIHhI+py+1dAAA7"):Ca+"blank.gif",Kc=Da(Ca+Vb+".cur")+ma+"move",Jc=Da(Ca+Vb+"-drag.cur")+ma+"move",Lc=Da(Ca+Vb+"-drag-down.cur")+ma+"move",Oa=o.touchy="ontouchstart"in R||!!navigator.msMaxTouchPoints;o.lazy=o.re.lazy_agent.test(Y);var Nc=Oa?t:Aa&&Ub<9?1:0,Xc=k.cleanData;
k.cleanData=function(f){Xc(k(f).each(function(){k(this).triggerHandler("clean")}))};k.extend(k.fn,o.fn)&&k(o.scan);return o}}(jQuery,window,document)});
