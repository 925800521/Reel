/*
 Copyright (c) 2009-2013 Petr Vostrel (http://petr.vostrel.cz/)
 Licensed under the MIT License (LICENSE.txt).

 jQuery Reel
 http://reel360.org
 Version: 1.3rc
 Updated: 2013-10-16

 Requires jQuery 1.6.2 or higher
*/
(function(k){var T=typeof define=="function"&&define.amd&&(define(["jquery"],k)||true),U=!T&&typeof module=="object"&&typeof module.exports=="object"&&(module.exports=k);!T&&!U&&k()})(function(){return jQuery.reel||function(k,T,U,s){function Ac(f){return n.instances.push(f[0])&&f}function Bc(f){return(n.instances=n.instances.not(Ca(f.attr(ka))))&&f}function Y(f){return n.instances.first().data(f)}function Cc(f){return"data:image/gif;base64,R0lGODlh"+f}function V(f){return"<"+f+"/>"}function x(f){return"."+
(f||"")}function Ua(f){return f.replace(Da,n.cdn)}function Ea(f){return"url('"+tb(f)+"')"}function $b(f,j){return typeof j==ub?j[f]:j}function Fa(f,j,o){return vb(f,Ga(j,o))}function Ha(f,j){return H(f)*(j?-1:1)}function Va(f){return la?f.touch||f.originalEvent.touches[0]:f}function wb(f){return f.originalEvent}function y(f){return f===s?0:typeof f==xb?f:f+"px"}function Ca(f){return"#"+f}function Wa(f,j,o){for(;f.length<j;)f=o+f;return f}function tb(f){return encodeURI(decodeURI(f))}function yb(f){return n.re.array.exec(f)?
f.split(n.re.array):f}function ac(f){return!f.parents(zb).length}function bc(f){return typeof f==xb?f:k.each(f,function(j,o){f[j]=o?+o:s})}function Dc(f){try{console.error(f)}catch(j){}}if(k){var Z=k&&k().jquery.split(/\./);if(!(!Z||+(Wa(Z[0],2,"0")+Wa(Z[1],2,"0")+Wa(Z[2],2,"0"))<10602)){var n=k.reel={version:"1.3rc",def:{frame:1,frames:36,loops:true,clickfree:false,draggable:true,scrollable:true,steppable:true,throwable:true,wheelable:true,orientable:false,cw:false,revolution:s,stitched:0,directional:false,
row:1,rows:0,rowlock:false,framelock:false,orbital:0,vertical:false,inversed:false,footage:6,spacing:0,horizontal:true,suffix:"-reel",image:s,images:"",path:"",preload:"fidelity",shy:false,speed:0,delay:0,timeout:2,duration:s,rebound:0.5,entry:s,opening:0,brake:0.23,velocity:0,tempo:36,laziness:6,cursor:s,hint:"",indicator:0,klass:"",preloader:2,area:s,attr:{},annotations:s,responsive:false,graph:s,monitor:s},scan:function(){return k(x(A)+":not("+x(Ab)+" > "+x(A)+")").each(function(f,j){f=k(j);j=
f.data();j.images=yb(j.images);var o={};k(x(cc)+"[data-for="+f.attr(ka)+"]").each(function(u,t){u=k(t);t=u.data();t.x=bc(yb(t.x));t.y=bc(yb(t.y));var g=u.attr(ka);t.node=u.removeData();o[g]=t});j.annotations=o;f.removeData().reel(j)})},fn:{reel:function(){var f=arguments,j=k(this),o=j.data(),u=f[0]||{},t=f[1];if(typeof u=="object"){var g=k.extend({},n.def,u),K=[];j.filter(Bb).unreel().filter(function(){var h=k(this),e=g.attr,a=e.src||h.attr(Cb),I=e.width||h.attr(L)||h.width();h=e.height||h.attr(B)||
h.height();if(a&&I&&h)return true;else Dc("Missing attributes: Image needs `src` and both dimensions to be set to Reel")}).each(function(){var h=k(this),e=function(c,d){return h.reel(c,d)&&h.data(c)},a=function(c){return h.reel(c)},I={setup:function(){if(!(h.hasClass(A)&&h.parent().hasClass(Ab))){e(Ia,g);var c={src:h.attr(Cb),width:h.attr(B)||null,height:h.attr(L)||null,style:h.attr(ra)||null,"class":h.attr(dc)||null},d=h.attr(g.attr).attr(Cb),b=e(ka,h.attr(ka)||h.attr(ka,A+"-"+ +new Date).attr(ka)),
i=k.extend({},h.data()),p=e($,g.images||[]),m=e(W,g.stitched),l=!p.length||m;l=e(Xa,g.responsive&&(Ec?true:!l));var q=e(ec,{}),r=g.loops,v=g.orbital,E=g.revolution,aa=g.rows,ba=e(sa,Ga(g.footage,g.frames));e(Ya,g.spacing);var Db=e(B,+h.attr(B)||h.width()),Eb=e(L,+h.attr(L)||h.height()),Fc=e(Ja,g.shy),fc=e(O,v&&ba||aa<=1&&p.length||g.frames),Gc=aa>1||v;e(Ka,$b("x",E)||m/2||Db*2);e(Fb,!Gc?0:$b("y",E)||(aa>3?Eb:Eb/(5-aa)));aa=m?1:ma(fc/ba);e(Gb,m-(r?0:Db));e(Za,0);b=Ca(b+g.suffix);r=h.attr(dc);r=!r?
X:r+C;r=k(V(ta),{id:b.substr(1),"class":r+Ab+C+gc+"0"});r=h.wrap(r.addClass(g.klass)).addClass(A);K.push(Ac(r)[0]);r=r.parent().bind(I.instance);e(Hb,p.length?X:g.image||d.replace(n.re.image,"$1"+g.suffix+".$2"));e($a,k(V(ta)));e(La,k());e(hc,[]);e(J,null);e(z,null);e(P,g.row);e(ua,0);e(Ib,aa);e(ic,g.rowlock);e(jc,g.framelock);e(ab,e(Ma,e(bb,0)));e(cb,1/fc);e(kc,b);e(M,e(va,g.speed)<0);e(Na,false);e(na,0);e(wa,g.vertical);e(ca,0);e(xa,Ha(1,!g.cw&&!m));e(db,{});e(da,false);e(eb,e(Jb,0));e(fb,e(gb,
0));e(Oa,false);e(Kb,false);e(ea,false);e(lc,g.brake);e(Lb,!!v);e(fa,g.tempo/(n.lazy?g.laziness:1));e(ya,-1);e(hb,-1);e(Pa,g.annotations||r.unbind(x(Pa))&&{});e(Mb,1);e(mc,{attr:c,data:i});g.steppable||r.unbind("up.steppable");g.indicator||r.unbind(".indicator");D(X,{overflow:Nb,position:"relative"});l||D(X,{width:Db,height:Eb});l&&k.each(Hc,function(bd,nc){q[nc]=a(nc)});D(oa+C+x(A),{display:Ob});ga.bind(I.pool);h.trigger(Fc?"prepare":"setup")}},instance:{teardown:function(){var c=h.data(mc);h.parent().unbind(I.instance);
if(a(Ja))h.parent().unbind(ib,ha);else a(ra).remove()&&a(La).unbind(F);a($a).empty();clearTimeout(Pb);clearTimeout(Qb);k(T).unbind(oc,pc);k(T).unbind(F);ga.unbind(I.pool);ia.unbind(ja);h.siblings().unbind(F).remove();jb();h.removeAttr("onloaded");Bc(h.unbind(F).removeData().unwrap().attr(c.attr).data(c.data))},setup:function(){function c(q){return h.trigger("down",[Va(q).clientX,Va(q).clientY,q])&&q.give}function d(q,r){return!r||h.trigger("wheel",[r,q])&&q.give}var b=h.parent().append(za()),i=e(La,
k(g.area||b)),p=g.rows>1;D(C+x(A),{MozUserSelect:kb,WebkitUserSelect:kb,MozTransform:"translateZ(0)"});h.unbind(ib,ha);if(la)i.bind(Ic,c);else{var m=g.cursor,l=m==qc?Jc:m||Kc;m=m==qc?Lc+C+"!important":s;D(X,{cursor:Ua(l)});D(x(Rb),{cursor:"wait"});D(x(lb)+oa+x(lb)+" *",{cursor:Ua(m||l)},true);i.bind(g.wheelable?Mc:null,d).bind(g.clickfree?Nc:Oc,c).bind(Pc,function(){return false})}if(a(Xa)){D(C+x(A),{width:"100%",height:Sb});k(T).bind(oc,pc)}g.hint&&i.attr("title",g.hint);g.indicator&&b.append(Qa("x"));
p&&g.indicator&&b.append(Qa("y"));g.monitor&&b.append(rc=k(V(ta),{"class":sc}))&&D(C+x(sc),{position:mb,left:0,top:0})},preload:function(){function c(r,v){setTimeout(function(){!ac(d)&&v.attr({src:tb(r)})},(l-m.length)*2)}var d=h.parent(),b=a($),i=!b.length,p=n.preload[g.preload]||n.preload[n.def.preload],m=i?[a(Hb)]:p(b.slice(0),g,a),l=m.length;e(ca,i?0.5:0);b=a($a).empty();i=[];d.addClass(Rb);e(ra,a(ra)||k("<"+ra+' type="text/css">'+D.rules.join("\n")+"</"+ra+">").prependTo(Tb));e(Na,true);h.trigger("stop");
g.responsive&&Ub();for(h.trigger("resize",true);m.length;){p=n.substitute(g.path+m.shift(),a);var q=k(V(Bb)).appendTo(b);q.bind("load error abort",function(r){r.type!="load"&&h.trigger(r.type);return!ac(d)&&h.trigger("preloaded")&&false});c(p,q);i.push(p)}e(hc,i);e(Ja,false)},preloaded:function(){var c=a($).length||1,d=e(ca,Ga(a(ca)+1,c));d===1&&h.trigger("frameChange",[s,a(J)]);if(d===c){h.parent().removeClass(Rb);h.trigger("loaded")}},loaded:function(){a($).length>1||h.css({backgroundImage:Ea(n.substitute(g.path+
a(Hb),a))}).attr({src:Ua(tc)});a(W)&&h.attr({src:Ua(tc)});a(Kb)||e(na,g.velocity||0);e(Na,false);pa=true},prepare:function(){h.css("display",Ob).parent().one(ib,ha)},opening:function(){if(!g.opening)return h.trigger("openingDone");e(ea,true);e(Vb,!a(va));var c=g.entry||g.speed,d=a(z),b=g.opening;e(z,d-c*b);e(ya,ma(b*Y(fa)))},openingDone:function(){function c(b){return h.trigger("orient",[wb(b).alpha,wb(b).beta,wb(b).gamma,b])&&b.give}e(Ra,false);e(ea,false);var d=nb+x(ea);ga.unbind(d,I.pool[d]);la&&
g.orientable&&k(T).bind(Qc,c);if(g.delay>0)Pb=setTimeout(function(){h.trigger("play")},g.delay*1E3);else h.trigger("play")},play:function(c,d){d=d?e(va,d):a(va)*Ha(1,a(M));(c=g.duration)&&e(hb,ma(c*Y(fa)));e(M,d<0);d=e(Ra,!!d);e(Vb,!d);Aa()},reach:function(c,d,b){if(d!=a(J)){c=a(O);e(P,ma(d/c));var i=e(ab,a(J));d=e(Ma,d);d=e(bb,n.math.distance(i,d,c));b=H(b||a(va))*Ha(1,d<0);h.trigger("play",b)}},pause:function(){w()},stop:function(){var c=e(Vb,true);e(Ra,!c)},down:function(c,d,b,i){function p(l){return h.trigger("pan",
[Va(l).clientX,Va(l).clientY,l])&&l.give}function m(l){return h.trigger("up",[l])&&l.give}if(!(i&&i.button!=Rc&&!g.clickfree))if(g.draggable){e(da,a(J));c=g.clickfree;e(na,0);ob=pb(a(Ka),d,b);la||i&&i.preventDefault();w();jb();G=0;k(zb,ia).addClass(lb);la?ia.bind(Sc,p).bind(Tc+C+Uc,m):(c?a(La):ia).bind(Vc,p).bind(c?Wc:Xc,m)}},up:function(){e(da,false);e(Oa,false);var c=g.throwable,d=H(Sa[0]+Sa[1])/60;N=e(na,!c?0:c===true?d:Ga(c,d))?1:0;w();jb();k(zb,ia).removeClass(lb);(g.clickfree?a(La):ia).unbind(ja)},
pan:function(c,d,b,i){if(g.draggable&&Ta){Ta=false;w();c=g.rows;var p=g.orbital,m=la&&!a(Oa)&&c<=1&&!p&&g.scrollable,l={x:d-ob.x,y:b-ob.y},q={x:H(l.x),y:H(l.y)};if(i&&m&&q.x<q.y)return i.give=true;if(q.x>0||q.y>0){i&&(i.give=false);G=vb(q.x,q.y);ob={x:d,y:b};i=a(Ka);m=a(db);q=a(wa);if(!a(jc)){var r=e(z,uc(q?b-m.y:d-m.x,a(eb),i,a(fb),a(gb),a(xa),q?b-m.y:d-m.x));e(Oa,a(Oa)||a(J)!=a(da));(l=vc(q?l.y:l.x||0))&&e(M,l<0)}if(p&&a(Lb)){e(wa,H(b-m.y)>H(d-m.x));m=pb(i,d,b)}if(c>1&&!a(ic)){c=a(Fb);p=a(Jb);l=
-p*c;e(ua,n.math.envelope(b-m.y,p,c,l,l+c,-1))}!(r%1)&&!g.loops&&pb(i,d,b)}}},wheel:function(c,d,b){if(d){qb=true;c=ma(qa.sqrt(H(d))/2);c=Ha(c,d>0);d=0.0833*a(Ka);pb(d);c&&e(M,c<0);e(na,0);e(z,uc(c,a(eb),d,a(fb),a(gb),a(xa)));b&&b.preventDefault();b&&(b.give=false);w();h.trigger("up",[b])}},orient:function(c,d){if(!(!Ta||Q)){wc=true;c=d/360;fraction=e(z,+(g.stitched||g.cw?1-c:c).toFixed(2));Ta=false}},fractionChange:function(c,d,b){if(d===s){c=1+rb(b/a(cb));d=g.rows>1;b=g.orbital;e(Lb,!!b&&(c<=b||
c>=a(sa)-b+2));if(d)c+=(a(P)-1)*a(O);e(J,c)}},tierChange:function(c,d,b){if(d===s){c=e(P,R(Wb(b,1,g.rows)));d=a(O);b=a(J)%d||d;e(J,b+c*d-d)}},rowChange:function(c,d,b){d===s&&Xb(ua,s,b,g.rows)},frameChange:function(c,d,b){if(d===s){this.className=this.className.replace(n.re.frame_klass,gc+b);c=a(O);d=g.rows;var i=g.path,p=b%c||c,m=((b-p)/c+1-1)/(d-1),l=a(P);!d?a(ua):Xb(ua,m,l,d);var q=Xb(z,s,p,c),r=a(sa);if(g.orbital&&a(wa)){b=g.inversed?r+1-b:b;b+=r}var v=a(W);c=a($);if(!c.length||v){p=a(Ya);var E=
a(B);m=a(L);if(v){b=e(Za,R(Wb(q,0,a(Gb)))%v);d=d<=1?0:(m+p)*(d-l);b=[y(-b),y(-d)];c=c.length>1&&c[l-1];d=n.substitute(i+c,a);c&&h.css("backgroundImage").search(d)<0&&h.css({backgroundImage:Ea(d)})}else{i=g.horizontal;l=b%r-1;l=l<0?r-1:l;b=rb((b-0.1)/r);b+=d>1?0:a(M)?0:!g.directional?0:a(Ib);b=b*((i?m:E)+p);d=l*((i?E:m)+p);b=c.length?[0,0]:i?[y(-d),y(-b)]:[y(-b),y(-d)]}h.css({backgroundPosition:b.join(C)})}else{a(Xa)&&Ub();a(ca)&&h.attr({src:tb(n.substitute(i+c[b-1],a))})}}},"frameChange.reach":function(c,
d,b){if(!(!a(Ma)||d!==s)){c=n.math.distance(a(ab),b,a(O));if(H(c)>=H(a(bb))){e(J,e(Ma));e(Ma,e(bb,e(ab,0)));h.trigger("stop")}}},"imageChange imagesChange":function(){h.trigger("preload")},"fractionChange.indicator":function(c,d,b){if(g.indicator&&d===s){c=g.indicator;var i=g.orbital;d=i&&a(wa)?a(L):a(B);i=i?a(sa):g.images.length||a(O);i=ma(d/i);d-=i;b=R(Wb(b,0,d));b=!g.cw||a(W)?b:d-b;Qa.$x.css(a(wa)?{left:0,top:y(b),bottom:Sb,width:c,height:i}:{bottom:0,left:y(b),top:Sb,width:i,height:c})}},"tierChange.indicator":function(c,
d,b){if(g.rows>1&&g.indicator&&d===s){var i=a(L);c=g.indicator;d=ma(i/g.rows);i-=d;b=R(b*i);Qa.$y.css({left:0,top:b,width:c,height:d})}},"setup.annotations":function(){var c=h.parent();k.each(a(Pa),function(d,b){var i=typeof b.node==xb?k(b.node):b.node||{};i=i.jquery?i:k(V(ta),i);i=i.attr({id:d}).addClass(cc);var p=b.image?k(V(Bb),b.image):k(),m=b.link?k(V("a"),b.link).click(function(){h.trigger("up.annotations",{target:m})}):k();D(Ca(d),{display:kb,position:mb},true);b.image||b.link&&i.append(m);
b.link||b.image&&i.append(p);b.link&&b.image&&i.append(m.append(p));i.appendTo(c)})},"prepare.annotations":function(){k.each(a(Pa),function(c){k(Ca(c)).hide()})},"frameChange.annotations":function(c,d){if(!(!a(ca)||d!==s)){var b=a(B),i=a(W),p=a(Za);k.each(a(Pa),function(m,l){m=k(Ca(m));var q=l.start||1,r=l.end,v=v||a(J),E=v-1,aa=l.at?l.at[E]=="+":false;E=l.at?E:E-q+1;v=typeof l.x!=ub?l.x:l.x[E];var ba=typeof l.y!=ub?l.y:l.y[E];l=v!==s&&ba!==s&&(l.at?aa:E>=0&&(!r||E<=r-q));if(i){q=v>i-b&&p>=0&&p<b;
v=!(v<b&&p>i-b)?v:v+i;v=!q?v:v-i;v-=p}if(a(Xa)){q=a(Mb);v=v&&v*q;ba=ba&&ba*q}v={display:l?Ob:kb,left:y(v),top:y(ba)};m.css(v)})}},"up.annotations":function(c,d){if(!(G>10||qb)){c=k(d.target);(c.is("a")?c:c.parents("a")).attr("href")&&(G=10)}},"up.steppable":function(){G||qb||h.trigger(a(db).x-h.offset().left>0.5*a(B)?"stepRight":"stepLeft")},"stepLeft stepRight":function(){w()},stepLeft:function(){e(M,false);e(z,a(z)-a(cb)*a(xa))},stepRight:function(){e(M,true);e(z,a(z)+a(cb)*a(xa))},stepUp:function(){e(P,
a(P)-1)},stepDown:function(){e(P,a(P)+1)},resize:function(c,d){if(!(a(Na)&&!d)){var b=a(W),i=a(Ya);c=a(L);var p=!a($).length||b,m=g.rows||1;b=a($).length?!b?s:y(b)+C+y(c):b&&y(b)+C+y((c+i)*m-i)||y((a(B)+i)*a(sa)-i)+C+y((c+i)*a(Ib)*m*(g.directional?2:1)-i);h.css({height:p?y(c):null,backgroundSize:b||null});d||h.trigger("imagesChange")}},"setup.fu":function(){e(J,g.frame+(a(P)-1)*a(O));h.trigger("preload")},"wheel.fu":function(){qb=false},"clean.fu":function(){h.trigger("teardown")},"loaded.fu":function(){h.trigger("opening")}},
pool:{"tick.reel.preload":function(){if(!(!(pa||a(Na))||a(Ja))){var c=a(B),d=Yc(za.$.css(B)),b=a($).length||1,i=R(1/b*a(ca)*c);za.$.css({width:d+(i-d)/3+1});if(a(ca)===b&&d>c-1){pa=false;za.$.fadeOut(300,function(){za.$.css({opacity:1,width:0})})}}},"tick.reel":function(c){if(!a(Ja)){var d=a(na),b=Y(fa),i=g.monitor;if(!(!n.intense&&Zc())){if(N){d=d-a(lc)/b*N;d=e(na,d>0.1?d:(N=Q=0))}i&&rc.text(a(i));d&&N++;Q&&Q++;vc(0);Ta=true;if(Q&&!d)return S(c);if(a(da))return S(c,w());if(!(a(ya)>0)){if(!g.loops&&
g.rebound){!Q&&!(a(z)%1)?Yb++:(Yb=0);Yb>=g.rebound*1E3/b&&e(M,!a(M))}c=a(xa)*Ha(1,a(M));b=a(hb);d=(!a(Ra)||wc||!b?d:H(a(va))+d)/Y(fa);e(z,a(z)-d*c);b=!g.duration?b:b>0&&e(hb,b-1);!b&&a(Ra)&&h.trigger("stop")}}}},"tick.reel.opening":function(){if(a(ea)){var c=(g.entry||g.speed)/Y(fa)*(g.cw?-1:1),d=e(ya,a(ya)-1);e(z,a(z)+c);d||h.trigger("openingDone")}}}},pa=false,S=function(c,d){return c.stopImmediatePropagation()||d},ha=function(){h.trigger("setup")},Q,N=0,Aa=function(){return Q=0},w=function(){clearTimeout(Pb);
ga.unbind(nb+x(ea),I.pool[nb+x(ea)]);e(ya,0);e(Kb,true);return Q=-g.timeout*Y(fa)},G=0,qb=false,wc=false,rc=k(),za=function(){D(C+x(xc),{position:mb,left:0,bottom:0,height:g.preloader,overflow:Nb,backgroundColor:"#000"});return za.$=k(V(ta),{"class":xc})},Qa=function(c){D(C+x(yc)+x(c),{position:mb,width:0,height:0,overflow:Nb,backgroundColor:"#000"});return Qa["$"+c]=k(V(ta),{"class":yc+C+c})},D=function(c,d,b){function i(p){var m=[];k.each(p,function(l,q){m.push(l.replace(/([A-Z])/g,"-$1").toLowerCase()+
":"+y(q)+";")});return"{"+m.join(X)+"}"}b=b?X:a(kc);c=c.replace(/^/,b).replace(oa,oa+b);return D.rules.push(c+i(d))&&d},Zc=function(){var c=a(L),d=a(B),b=h[0].getBoundingClientRect();return b.top<-c||b.left<-d||b.right>d+k(T).width()||b.bottom>c+k(T).height()},Yb=0,ob={x:0,y:0},vc=function(c){return Sa.push(c)&&Sa.shift()&&c},jb=function(){return Sa=[0,0]},Sa=jb(),uc=g.graph||n.math[g.loops?"hatch":"envelope"],pc=function(){clearTimeout(Qb);Qb=setTimeout(Ub,n.resize_gauge)},Ub=function(){if(h.width()!=
a(B)){var c=a(ec),d=e(Mb,h.width()/c.width);k.each(c,function(b,i){e(b,R(i*d))});h.trigger("resize")}},Pb,Qb,pb=function(c,d,b){var i=e(eb,a(z));e(Jb,a(ua));var p=g.loops;e(fb,p?0:-i*c);e(gb,p?c:c-i*c);return d!==s&&e(db,{x:d,y:b})||s},Ta=true,Xb=function(c,d,b,i){if(i){var p=a(c)||0;b=d!==s?d:(b-1)/(i-1);b=c!=z?b:Ga(b,0.9999);return d=+H(p-b).toFixed(8)>=+(1/(i-1)).toFixed(8)?e(c,b):d||p}},ia=ga;try{if(ga[0]!=top.document)ia=ga.add(top.document)}catch(cd){}top===self?k():function(c){k("iframe",ia.last()).each(function(){try{if(k(this).contents().find(Tb).html()==
k(Tb).html())return(c=k(this))&&false}catch(d){}});return c}();D.rules=[];I.setup()});sb=sb||function h(){var e=+new Date,a=Y(fa);if(!a)return sb=null;ga.trigger(nb);n.cost=(+new Date+n.cost-e)/2;return sb=setTimeout(h,vb(4,1E3/a-n.cost))}();return k(K)}else if(typeof u=="string")if(f.length==1)return o[u];else{if(t!==s){n.normal[u]&&(t=n.normal[u](t,o));if(o[u]===s)o[u]=t;else if(o[u]!==t)j.trigger(u+"Change",[s,o[u]=t])}return j}},unreel:function(){return this.trigger("teardown")}},re:{image:/^(.*)\.(jpg|jpeg|png|gif)\??.*$/i,
ua:[/(msie|opera|firefox|chrome|safari)[ \/:]([\d.]+)/i,/(webkit)\/([\d.]+)/i,/(mozilla)\/([\d.]+)/i],array:/ *, */,touchy_agent:/iphone|ipod|ipad|android|fennec|rim tablet/i,lazy_agent:/\(iphone|ipod|android|fennec|blackberry/i,frame_klass:/frame-\d+/,substitution:/(@([A-Z]))/g,no_match:/^(undefined|)$/,sequence:/(^[^#|]*([#]+)[^#|]*)($|[|]([0-9]+)\.\.([0-9]+))($|[|]([0-9]+)$)/},cdn:"http://code.vostrel.net/",math:{envelope:function(f,j,o,u,t,g){return j+Fa(u,t,-f*g)/o},hatch:function(f,j,o,u,t,
g){f=(f<u?t:0)+f%t;f=j+-f*g/o;return f-rb(f)},interpolate:function(f,j,o){return j+f*(o-j)},distance:function(f,j,o){var u=o/2;f=j-f;return f<-u?f+o:f>u?f-o:f}},preload:{fidelity:function(f,j,o){function u(e,a,I){function pa(G){for(;!(G>=1&&G<=N);)G+=G<1?+N:-N;return h[I+G]||(h[I+G]=!!S.push(G))}if(!e.length)return[];var S=[],ha=4*a,Q=j.frame,N=e.length;a=true;for(var Aa=N/ha,w=0;w<ha;w++)pa(Q+R(w*Aa));for(;Aa>1;){w=0;ha=S.length;Aa/=2;for(a=!a;w<ha;w++)pa(S[w]+(a?1:-1)*R(Aa))}for(w=0;w<=N;w++)pa(w);
for(w=0;w<S.length;w++)S[w]=e[S[w]-1];return S}var t=j.orbital,g=t?2:j.rows||1,K=t?o(sa):o(O);o=(j.row-1)*K;t=[].concat(f);var h=new Array(f.length+1);f=g<2?[]:t.slice(o,o+K);return u(f,1,o).concat(u(t,g,0))},linear:function(f){return f}},substitute:function(f,j){return f.replace(n.re.substitution,function(o,u,t){return typeof n.substitutes[t]=="function"?n.substitutes[t](j):zc[t]?j(zc[t]):u})},substitutes:{T:function(){return+new Date}},normal:{fraction:function(f,j){if(f===null)return f;return j[Ia].loops?
f-rb(f):Fa(0,1,f)},tier:function(f){if(f===null)return f;return Fa(0,1,f)},row:function(f,j){if(f===null)return f;return R(Fa(1,j[Ia].rows,f))},frame:function(f,j){if(f===null)return f;var o=j[Ia];j=j[O]*(o.orbital?2:o.rows||1);f=R(o.loops?f%j||j:Fa(1,j,f));return f<0?f+j:f},images:function(f,j){var o=n.re.sequence.exec(f);return!o?f:n.sequence(o,j[Ia])}},sequence:function(f,j){if(f.length<=1)return j.images;var o=[],u=j.orbital,t=f[1],g=f[2],K=f[4];K=n.re.no_match.test(K+X)?1:+K;var h=u?2:j.rows||
1;j=u?j.footage:j.stitched?1:j.frames;h=+(f[5]||h*j)-K;f=+f[7]||1;for(j=0;j<=h;){o.push(t.replace(g,Wa(K+j+X,g.length,"0")));j+=f}return o},instances:k(),leader:Y,resize_gauge:300,cost:0},ga=k(U);U=navigator.userAgent;var Ba=n.re.ua[0].exec(U)||n.re.ua[1].exec(U)||n.re.ua[2].exec(U);Z=+Ba[2].split(".").slice(0,2).join(".");Ba=Ba[1]=="MSIE";var $c=!(Ba&&Z<8),Ec=!(Ba&&Z<9),sb,A="reel",Ab=A+"-overlay",yc=A+"-indicator",xc=A+"-preloader",sc=A+"-monitor",cc=A+"-annotation",lb=A+"-panning",Rb=A+"-loading",
gc="frame-",qa=Math,R=qa.round,rb=qa.floor,ma=qa.ceil,Ga=qa.min,vb=qa.max,H=qa.abs,Yc=parseInt,Wb=n.math.interpolate,Pa="annotations",La="area",Sb="auto",mc="backup",M="backwards",cb="bit",lc="brake",$a="cache",hc=$a+"d",Lb="center",dc="class",ib="click",da=ib+"ed",db=da+"_location",eb=da+"_on",Jb=da+"_tier",xa="cwish",ab="departure",Ma="destination",bb="distance",sa="footage",z="fraction",J="frame",jc="framelock",O="frames",L="height",gb="hi",Nb="hidden",Hb="image",$="images",Na="loading",ea="opening",
ya=ea+"_ticks",fb="lo",Ia="options",Ra="playing",ca="preloaded",Mb="ratio",Oa="reeling",Kb="reeled",Xa="responsive",Ka="revolution",Fb="revolution_y",P="row",ic="rowlock",Ib="rows",Ja="shy",Ya="spacing",va="speed",Cb="src",kc="stage",W="stitched",Za=W+"_shift",Gb=W+"_travel",Vb="stopped",ra="style",fa="tempo",hb="ticks",ua="tier",ec="truescale",na="velocity",wa="vertical",B="width",F=x(A),ja=x("pan")+F,Pc="dragstart"+F,Oc="mousedown"+F,Nc="mouseenter"+F,Wc="mouseleave"+ja,Vc="mousemove"+ja,Xc="mouseup"+
ja,Mc="mousewheel"+F,nb="tick"+F,Uc="touchcancel"+ja,Tc="touchend"+ja,Ic="touchstart"+F,Sc="touchmove"+ja,Qc="deviceorientation"+F,oc="resize"+F,X="",C=" ",oa=",",mb="absolute",Ob="block",Da="@CDN@",ta="div",qc="hand",Tb="head",zb="html",ka="id",Bb="img",Zb="jquery."+A,kb="none",ub="object",xb="string",Hc=[B,L,Ya,Ka,Fb,W,Za,Gb],zc={W:B,H:L},tc=$c?Cc("CAAIAIAAAAAAAAAAACH5BAEAAAAALAAAAAAIAAgAAAIHhI+py+1dAAA7"):Da+"blank.gif",Kc=Ea(Da+Zb+".cur")+oa+"move",Jc=Ea(Da+Zb+"-drag.cur")+oa+"move",Lc=Ea(Da+
Zb+"-drag-down.cur")+oa+"move",la=n.touchy=n.re.touchy_agent.test(U);n.lazy=n.re.lazy_agent.test(U);var Rc=la?s:Ba&&Z<9?1:0,ad=k.cleanData;k.cleanData=function(f){k(f).each(function(){k(this).triggerHandler("clean")});return ad.apply(this,arguments)};k.extend(k.fn,n.fn)&&k(n.scan);return n}}}(jQuery,window,document)});
